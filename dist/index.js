var je="##INNER_TYPE##",ge="@@INNER_TYPE@@",ye="##INNER_THROW_FN##",Fe="##INNER_TYPE_FN##";function we(e,t){if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(we(e,t[s]))return!0;return!1}if(t?.[Fe]?.(e))return!0;if(typeof t!="function")return t==="*"&&e!==null||t==="..."||t===null&&e===null||t===typeof e;switch(typeof e){case"function":case"object":break;case"string":e=String;break;case"number":e=Number;break;case"boolean":e=Boolean;break;case"symbol":e=Symbol;break;case"bigint":e=BigInt;break;default:e=Object(e);break}return e===t||e instanceof t?!0:e?.[ge]?e[ge]===t?.[je]:!1}function $e(e){if(e===null)return"null";if(e==="*")return"(\u4EFB\u610F)";let t=typeof e;if(!["function","object"].includes(t))return t[0].toUpperCase()+t.slice(1);let s=(e?.name||e?.constructor?.name||"(\u672A\u77E5)").split(" ").pop();return[je,ge].forEach(f=>{e?.[f]&&(s+=`<${$e(e?.[f])}>`)}),t==="function"&&s==="anonymous"?"(\u533F\u540D)":s}function Je(e,t,s){let f=e.stack.split(`
`).splice(3),l="",y=`
`,r="";f.forEach((m,$,_)=>{let k=m.trim().split(" "),N=k.length===3?k[1]:"(\u533F\u540D)",O=N.split(".").pop();_[$]={fullMethodName:N,methodName:O,link:k.length===3?k[2]:k[1]},$?y+=`${O}	${_[$].link}
`:r=O});let v=t.find(m=>m.length===s.length);if(!v)throw l+=`\u65B9\u6CD5 ${r} \u4E0D\u5B58\u5728 ${s.length} \u4E2A\u53C2\u6570\u7684\u91CD\u8F7D\u3002`,l+=y,new Error(l);let a=!1;if(v.forEach((m,$)=>{if(!we(s[$],m)){let _=Array.isArray(m)?m.map($e).join("\u3001"):$e(m);l+=`${a?`
`:""}\u53C2\u6570${$+1}\uFF1A\u9884\u671F ${_} \u4F46\u5F97\u5230 ${$e(s[$])}\u3002`,Array.isArray(m)?m.forEach((k,N)=>{typeof k?.[ye]=="function"&&(l+=`${N===0?`
\u9644\u52A0\u4FE1\u606F\uFF1A
`:""}\u5C1D\u8BD5\u65B9\u6848${$+1} - ${k[ye]?.(s[$])}`)}):typeof m?.[ye]=="function"&&(l+=`
\u9644\u52A0\u4FE1\u606F\uFF1A
\u5C1D\u8BD5\u65B9\u6848${$+1} - ${m[ye]?.(s[$])}`),a=!0}}),a)throw l=`\u65B9\u6CD5 ${r} \u8C03\u7528\u9519\u8BEF
${l}`,l+=y,new Error(l)}function Re(){let e=[],t=[],s=[],f=null;function l(...r){if(f)return f.apply(this,r);Je(new Error,e,r)}function y(...r){if(!e.length)return l.apply(this,r);let v=r.length;e:for(let a=0;a<e.length;a++){let m=e[a],$=s[a],_=m.length;if(!($.length!==v&&!$.rest||v===0&&_&&m[0]!=="...")){for(let k=0;k<v;k++){let N=m[k]||m[_-1];if(!we(r[k],N)){try{let O=N?.["\u21C4"]?.(r[k]);if(we(O,N)){r[k]=O;continue}}catch{}continue e}}return t[a].apply(this,r)}}return l.apply(this,r)}return y.add=function(r,v){if(!Array.isArray(e))throw new TypeError("types \u5FC5\u987B\u662F\u6570\u7EC4\u3002");if(typeof v!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");for(let a=0;a<r.length;a++)if(r[a]==="..."&&a!==r.length-1)throw new SyntaxError(`${"..."} \u5FC5\u987B\u662F\u6700\u540E\u4E00\u4E2A\u53C2\u6570\u3002`);return e.forEach(a=>{if(a.length===r.length){for(let m=0;m<a.length;m++)if(a[m]!==r[m])return;throw new Error("\u5DF2\u5B58\u5728\u6B64\u7B7E\u540D\u7684\u91CD\u8F7D\u3002")}}),e.forEach(a=>{let m=Array.isArray(a);if(typeof a!="function"&&!m&&a!=="*"&&a!=="...")throw new TypeError(`\u671F\u671B\u7C7B\u578B\u4E3A Class\u3001Array\u3001${"*"} \u6216\u672B\u5C3E\u53C2\u6570\u4E5F\u53EF\u4EE5\u662F ${"..."}\u3002`);if(m)for(let $=0;$<a.length;$++){let _=typeof a[$];if(_!=="function"&&!(_==="object"&&typeof a[$]?.constructor=="function")&&a[$]!==null&&a[$]!=="*")throw new TypeError(`\u7C7B\u578B\u5FC5\u987B\u4E3A Class\u3001null \u6216 ${"*"}\u3002`)}}),e.push(r),t.push(v),s.push({length:r.length,rest:r[r.length-1]==="..."}),y},y.any=function(r){if(f)throw new Error("any \u51FD\u6570\u5DF2\u5B58\u5728\u3002");if(typeof r!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");return f=r,y},y}var J=Re().add([],function(){return Re()}).add([Array,Function],function(e,t){let s=Re();return s.add(e,t),s});var We=Object.create,ze=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,Ze=Object.getOwnPropertyNames,Xe=Object.getPrototypeOf,et=Object.prototype.hasOwnProperty,M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tt=(e,t,s,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Ze(t))!et.call(e,l)&&l!==s&&ze(e,l,{get:()=>t[l],enumerable:!(f=Qe(t,l))||f.enumerable});return e},rt=(e,t,s)=>(s=e!=null?We(Xe(e)):{},tt(t||!e||!e.__esModule?ze(s,"default",{value:e,enumerable:!0}):s,e)),be=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var s=class extends t{constructor(i){if(super(),!e.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=s;var f=class extends t{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((u,n)=>`${u}${n}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((u,n)=>(n instanceof s&&(u[n.str]=(u[n.str]||0)+1),u),{})}};e._Code=f,e.nil=new f("");function l(i,...u){let n=[i[0]],o=0;for(;o<u.length;)v(n,u[o]),n.push(i[++o]);return new f(n)}e._=l;var y=new f("+");function r(i,...u){let n=[N(i[0])],o=0;for(;o<u.length;)n.push(y),v(n,u[o]),n.push(y,N(i[++o]));return a(n),new f(n)}e.str=r;function v(i,u){u instanceof f?i.push(...u._items):u instanceof s?i.push(u):i.push(_(u))}e.addCodeArg=v;function a(i){let u=1;for(;u<i.length-1;){if(i[u]===y){let n=m(i[u-1],i[u+1]);if(n!==void 0){i.splice(u-1,3,n);continue}i[u++]="+"}u++}}function m(i,u){if(u==='""')return i;if(i==='""')return u;if(typeof i=="string")return u instanceof s||i[i.length-1]!=='"'?void 0:typeof u!="string"?`${i.slice(0,-1)}${u}"`:u[0]==='"'?i.slice(0,-1)+u.slice(1):void 0;if(typeof u=="string"&&u[0]==='"'&&!(i instanceof s))return`"${i}${u.slice(1)}`}function $(i,u){return u.emptyStr()?i:i.emptyStr()?u:r`${i}${u}`}e.strConcat=$;function _(i){return typeof i=="number"||typeof i=="boolean"||i===null?i:N(Array.isArray(i)?i.join(","):i)}function k(i){return new f(N(i))}e.stringify=k;function N(i){return JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=N;function O(i){return typeof i=="string"&&e.IDENTIFIER.test(i)?new f(`.${i}`):l`[${i}]`}e.getProperty=O;function S(i){if(typeof i=="string"&&e.IDENTIFIER.test(i))return new f(`${i}`);throw new Error(`CodeGen: invalid export name: ${i}, use explicit $id name mapping`)}e.getEsmExportName=S;function c(i){return new f(i.toString())}e.regexpCode=c}),Ve=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=be(),s=class extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}},f;(function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"})(f||(e.UsedValueState=f={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var l=class{constructor({prefixes:a,parent:m}={}){this._names={},this._prefixes=a,this._parent=m}toName(a){return a instanceof t.Name?a:this.name(a)}name(a){return new t.Name(this._newName(a))}_newName(a){let m=this._names[a]||this._nameGroup(a);return`${a}${m.index++}`}_nameGroup(a){var m,$;if(!(($=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||$===void 0)&&$.has(a)||this._prefixes&&!this._prefixes.has(a))throw new Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}};e.Scope=l;var y=class extends t.Name{constructor(a,m){super(m),this.prefix=a}setValue(a,{property:m,itemIndex:$}){this.value=a,this.scopePath=(0,t._)`.${new t.Name(m)}[${$}]`}};e.ValueScopeName=y;var r=(0,t._)`\n`,v=class extends l{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?r:t.nil}}get(){return this._scope}name(a){return new y(a,this._newName(a))}value(a,m){var $;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let _=this.toName(a),{prefix:k}=_,N=($=m.key)!==null&&$!==void 0?$:m.ref,O=this._values[k];if(O){let i=O.get(N);if(i)return i}else O=this._values[k]=new Map;O.set(N,_);let S=this._scope[k]||(this._scope[k]=[]),c=S.length;return S[c]=m.ref,_.setValue(m,{property:k,itemIndex:c}),_}getValue(a,m){let $=this._values[a];if($)return $.get(m)}scopeRefs(a,m=this._values){return this._reduceValues(m,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${a}${$.scopePath}`})}scopeCode(a=this._values,m,$){return this._reduceValues(a,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},m,$)}_reduceValues(a,m,$={},_){let k=t.nil;for(let N in a){let O=a[N];if(!O)continue;let S=$[N]=$[N]||new Map;O.forEach(c=>{if(S.has(c))return;S.set(c,f.Started);let i=m(c);if(i){let u=this.opts.es5?e.varKinds.var:e.varKinds.const;k=(0,t._)`${k}${u} ${c} = ${i};${this.opts._n}`}else if(i=_?.(c))k=(0,t._)`${k}${i}${this.opts._n}`;else throw new s(c);S.set(c,f.Completed)})}return k}};e.ValueScope=v}),G=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=be(),s=Ve(),f=be();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}});var l=Ve();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return l.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return l.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return l.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return l.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var y=class{optimizeNodes(){return this}optimizeNames(h,E){return this}},r=class extends y{constructor(h,E,j){super(),this.varKind=h,this.name=E,this.rhs=j}render({es5:h,_n:E}){let j=h?s.varKinds.var:this.varKind,D=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${D};`+E}optimizeNames(h,E){if(h[this.name.str])return this.rhs&&(this.rhs=K(this.rhs,h,E)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},v=class extends y{constructor(h,E,j){super(),this.lhs=h,this.rhs=E,this.sideEffects=j}render({_n:h}){return`${this.lhs} = ${this.rhs};`+h}optimizeNames(h,E){if(!(this.lhs instanceof t.Name&&!h[this.lhs.str]&&!this.sideEffects))return this.rhs=K(this.rhs,h,E),this}get names(){let h=this.lhs instanceof t.Name?{}:{...this.lhs.names};return B(h,this.rhs)}},a=class extends v{constructor(h,E,j,D){super(h,j,D),this.op=E}render({_n:h}){return`${this.lhs} ${this.op}= ${this.rhs};`+h}},m=class extends y{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`${this.label}:`+h}},$=class extends y{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`break${this.label?` ${this.label}`:""};`+h}},_=class extends y{constructor(h){super(),this.error=h}render({_n:h}){return`throw ${this.error};`+h}get names(){return this.error.names}},k=class extends y{constructor(h){super(),this.code=h}render({_n:h}){return`${this.code};`+h}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(h,E){return this.code=K(this.code,h,E),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},N=class extends y{constructor(h=[]){super(),this.nodes=h}render(h){return this.nodes.reduce((E,j)=>E+j.render(h),"")}optimizeNodes(){let{nodes:h}=this,E=h.length;for(;E--;){let j=h[E].optimizeNodes();Array.isArray(j)?h.splice(E,1,...j):j?h[E]=j:h.splice(E,1)}return h.length>0?this:void 0}optimizeNames(h,E){let{nodes:j}=this,D=j.length;for(;D--;){let q=j[D];q.optimizeNames(h,E)||(Q(h,q.names),j.splice(D,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((h,E)=>V(h,E.names),{})}},O=class extends N{render(h){return"{"+h._n+super.render(h)+"}"+h._n}},S=class extends N{},c=class extends O{};c.kind="else";var i=class _e extends O{constructor(E,j){super(j),this.condition=E}render(E){let j=`if(${this.condition})`+super.render(E);return this.else&&(j+="else "+this.else.render(E)),j}optimizeNodes(){super.optimizeNodes();let E=this.condition;if(E===!0)return this.nodes;let j=this.else;if(j){let D=j.optimizeNodes();j=this.else=Array.isArray(D)?new c(D):D}if(j)return E===!1?j instanceof _e?j:j.nodes:this.nodes.length?this:new _e(ae(E),j instanceof _e?[j]:j.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,j){var D;if(this.else=(D=this.else)===null||D===void 0?void 0:D.optimizeNames(E,j),!!(super.optimizeNames(E,j)||this.else))return this.condition=K(this.condition,E,j),this}get names(){let E=super.names;return B(E,this.condition),this.else&&V(E,this.else.names),E}};i.kind="if";var u=class extends O{};u.kind="for";var n=class extends u{constructor(h){super(),this.iteration=h}render(h){return`for(${this.iteration})`+super.render(h)}optimizeNames(h,E){if(super.optimizeNames(h,E))return this.iteration=K(this.iteration,h,E),this}get names(){return V(super.names,this.iteration.names)}},o=class extends u{constructor(h,E,j,D){super(),this.varKind=h,this.name=E,this.from=j,this.to=D}render(h){let E=h.es5?s.varKinds.var:this.varKind,{name:j,from:D,to:q}=this;return`for(${E} ${j}=${D}; ${j}<${q}; ${j}++)`+super.render(h)}get names(){let h=B(super.names,this.from);return B(h,this.to)}},p=class extends u{constructor(h,E,j,D){super(),this.loop=h,this.varKind=E,this.name=j,this.iterable=D}render(h){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(h)}optimizeNames(h,E){if(super.optimizeNames(h,E))return this.iterable=K(this.iterable,h,E),this}get names(){return V(super.names,this.iterable.names)}},d=class extends O{constructor(h,E,j){super(),this.name=h,this.args=E,this.async=j}render(h){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(h)}};d.kind="func";var g=class extends N{render(h){return"return "+super.render(h)}};g.kind="return";var b=class extends O{render(h){let E="try"+super.render(h);return this.catch&&(E+=this.catch.render(h)),this.finally&&(E+=this.finally.render(h)),E}optimizeNodes(){var h,E;return super.optimizeNodes(),(h=this.catch)===null||h===void 0||h.optimizeNodes(),(E=this.finally)===null||E===void 0||E.optimizeNodes(),this}optimizeNames(h,E){var j,D;return super.optimizeNames(h,E),(j=this.catch)===null||j===void 0||j.optimizeNames(h,E),(D=this.finally)===null||D===void 0||D.optimizeNames(h,E),this}get names(){let h=super.names;return this.catch&&V(h,this.catch.names),this.finally&&V(h,this.finally.names),h}},C=class extends O{constructor(h){super(),this.error=h}render(h){return`catch(${this.error})`+super.render(h)}};C.kind="catch";var I=class extends O{render(h){return"finally"+super.render(h)}};I.kind="finally";var F=class{constructor(h,E={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...E,_n:E.lines?`
`:""},this._extScope=h,this._scope=new s.Scope({parent:h}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(h){return this._scope.name(h)}scopeName(h){return this._extScope.name(h)}scopeValue(h,E){let j=this._extScope.value(h,E);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(h,E){return this._extScope.getValue(h,E)}scopeRefs(h){return this._extScope.scopeRefs(h,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(h,E,j,D){let q=this._scope.toName(E);return j!==void 0&&D&&(this._constants[q.str]=j),this._leafNode(new r(h,q,j)),q}const(h,E,j){return this._def(s.varKinds.const,h,E,j)}let(h,E,j){return this._def(s.varKinds.let,h,E,j)}var(h,E,j){return this._def(s.varKinds.var,h,E,j)}assign(h,E,j){return this._leafNode(new v(h,E,j))}add(h,E){return this._leafNode(new a(h,e.operators.ADD,E))}code(h){return typeof h=="function"?h():h!==t.nil&&this._leafNode(new k(h)),this}object(...h){let E=["{"];for(let[j,D]of h)E.length>1&&E.push(","),E.push(j),(j!==D||this.opts.es5)&&(E.push(":"),(0,t.addCodeArg)(E,D));return E.push("}"),new t._Code(E)}if(h,E,j){if(this._blockNode(new i(h)),E&&j)this.code(E).else().code(j).endIf();else if(E)this.code(E).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(h){return this._elseNode(new i(h))}else(){return this._elseNode(new c)}endIf(){return this._endBlockNode(i,c)}_for(h,E){return this._blockNode(h),E&&this.code(E).endFor(),this}for(h,E){return this._for(new n(h),E)}forRange(h,E,j,D,q=this.opts.es5?s.varKinds.var:s.varKinds.let){let Y=this._scope.toName(h);return this._for(new o(q,Y,E,j),()=>D(Y))}forOf(h,E,j,D=s.varKinds.const){let q=this._scope.toName(h);if(this.opts.es5){let Y=E instanceof t.Name?E:this.var("_arr",E);return this.forRange("_i",0,(0,t._)`${Y}.length`,L=>{this.var(q,(0,t._)`${Y}[${L}]`),j(q)})}return this._for(new p("of",D,q,E),()=>j(q))}forIn(h,E,j,D=this.opts.es5?s.varKinds.var:s.varKinds.const){if(this.opts.ownProperties)return this.forOf(h,(0,t._)`Object.keys(${E})`,j);let q=this._scope.toName(h);return this._for(new p("in",D,q,E),()=>j(q))}endFor(){return this._endBlockNode(u)}label(h){return this._leafNode(new m(h))}break(h){return this._leafNode(new $(h))}return(h){let E=new g;if(this._blockNode(E),this.code(h),E.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(g)}try(h,E,j){if(!E&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');let D=new b;if(this._blockNode(D),this.code(h),E){let q=this.name("e");this._currNode=D.catch=new C(q),E(q)}return j&&(this._currNode=D.finally=new I,this.code(j)),this._endBlockNode(C,I)}throw(h){return this._leafNode(new _(h))}block(h,E){return this._blockStarts.push(this._nodes.length),h&&this.code(h).endBlock(E),this}endBlock(h){let E=this._blockStarts.pop();if(E===void 0)throw new Error("CodeGen: not in self-balancing block");let j=this._nodes.length-E;if(j<0||h!==void 0&&j!==h)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${h} expected`);return this._nodes.length=E,this}func(h,E=t.nil,j,D){return this._blockNode(new d(h,E,j)),D&&this.code(D).endFunc(),this}endFunc(){return this._endBlockNode(d)}optimize(h=1){for(;h-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(h){return this._currNode.nodes.push(h),this}_blockNode(h){this._currNode.nodes.push(h),this._nodes.push(h)}_endBlockNode(h,E){let j=this._currNode;if(j instanceof h||E&&j instanceof E)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${E?`${h.kind}/${E.kind}`:h.kind}"`)}_elseNode(h){let E=this._currNode;if(!(E instanceof i))throw new Error('CodeGen: "else" without "if"');return this._currNode=E.else=h,this}get _root(){return this._nodes[0]}get _currNode(){let h=this._nodes;return h[h.length-1]}set _currNode(h){let E=this._nodes;E[E.length-1]=h}};e.CodeGen=F;function V(h,E){for(let j in E)h[j]=(h[j]||0)+(E[j]||0);return h}function B(h,E){return E instanceof t._CodeOrName?V(h,E.names):h}function K(h,E,j){if(h instanceof t.Name)return D(h);if(!q(h))return h;return new t._Code(h._items.reduce((Y,L)=>(L instanceof t.Name&&(L=D(L)),L instanceof t._Code?Y.push(...L._items):Y.push(L),Y),[]));function D(Y){let L=j[Y.str];return L===void 0||E[Y.str]!==1?Y:(delete E[Y.str],L)}function q(Y){return Y instanceof t._Code&&Y._items.some(L=>L instanceof t.Name&&E[L.str]===1&&j[L.str]!==void 0)}}function Q(h,E){for(let j in E)h[j]=(h[j]||0)-(E[j]||0)}function ae(h){return typeof h=="boolean"||typeof h=="number"||h===null?!h:(0,t._)`!${A(h)}`}e.not=ae;var le=x(e.operators.AND);function ue(...h){return h.reduce(le)}e.and=ue;var Z=x(e.operators.OR);function P(...h){return h.reduce(Z)}e.or=P;function x(h){return(E,j)=>E===t.nil?j:j===t.nil?E:(0,t._)`${A(E)} ${h} ${A(j)}`}function A(h){return h instanceof t.Name?h:(0,t._)`(${h})`}}),W=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=G(),s=be();function f(d){let g={};for(let b of d)g[b]=!0;return g}e.toHash=f;function l(d,g){return typeof g=="boolean"?g:Object.keys(g).length===0?!0:(y(d,g),!r(g,d.self.RULES.all))}e.alwaysValidSchema=l;function y(d,g=d.schema){let{opts:b,self:C}=d;if(!b.strictSchema||typeof g=="boolean")return;let I=C.RULES.keywords;for(let F in g)I[F]||p(d,`unknown keyword: "${F}"`)}e.checkUnknownRules=y;function r(d,g){if(typeof d=="boolean")return!d;for(let b in d)if(g[b])return!0;return!1}e.schemaHasRules=r;function v(d,g){if(typeof d=="boolean")return!d;for(let b in d)if(b!=="$ref"&&g.all[b])return!0;return!1}e.schemaHasRulesButRef=v;function a({topSchemaRef:d,schemaPath:g},b,C,I){if(!I){if(typeof b=="number"||typeof b=="boolean")return b;if(typeof b=="string")return(0,t._)`${b}`}return(0,t._)`${d}${g}${(0,t.getProperty)(C)}`}e.schemaRefOrVal=a;function m(d){return k(decodeURIComponent(d))}e.unescapeFragment=m;function $(d){return encodeURIComponent(_(d))}e.escapeFragment=$;function _(d){return typeof d=="number"?`${d}`:d.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=_;function k(d){return d.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=k;function N(d,g){if(Array.isArray(d))for(let b of d)g(b);else g(d)}e.eachItem=N;function O({mergeNames:d,mergeToName:g,mergeValues:b,resultToName:C}){return(I,F,V,B)=>{let K=V===void 0?F:V instanceof t.Name?(F instanceof t.Name?d(I,F,V):g(I,F,V),V):F instanceof t.Name?(g(I,V,F),F):b(F,V);return B===t.Name&&!(K instanceof t.Name)?C(I,K):K}}e.mergeEvaluated={props:O({mergeNames:(d,g,b)=>d.if((0,t._)`${b} !== true && ${g} !== undefined`,()=>{d.if((0,t._)`${g} === true`,()=>d.assign(b,!0),()=>d.assign(b,(0,t._)`${b} || {}`).code((0,t._)`Object.assign(${b}, ${g})`))}),mergeToName:(d,g,b)=>d.if((0,t._)`${b} !== true`,()=>{g===!0?d.assign(b,!0):(d.assign(b,(0,t._)`${b} || {}`),c(d,b,g))}),mergeValues:(d,g)=>d===!0?!0:{...d,...g},resultToName:S}),items:O({mergeNames:(d,g,b)=>d.if((0,t._)`${b} !== true && ${g} !== undefined`,()=>d.assign(b,(0,t._)`${g} === true ? true : ${b} > ${g} ? ${b} : ${g}`)),mergeToName:(d,g,b)=>d.if((0,t._)`${b} !== true`,()=>d.assign(b,g===!0?!0:(0,t._)`${b} > ${g} ? ${b} : ${g}`)),mergeValues:(d,g)=>d===!0?!0:Math.max(d,g),resultToName:(d,g)=>d.var("items",g)})};function S(d,g){if(g===!0)return d.var("props",!0);let b=d.var("props",(0,t._)`{}`);return g!==void 0&&c(d,b,g),b}e.evaluatedPropsToName=S;function c(d,g,b){Object.keys(b).forEach(C=>d.assign((0,t._)`${g}${(0,t.getProperty)(C)}`,!0))}e.setEvaluated=c;var i={};function u(d,g){return d.scopeValue("func",{ref:g,code:i[g.code]||(i[g.code]=new s._Code(g.code))})}e.useFunc=u;var n;(function(d){d[d.Num=0]="Num",d[d.Str=1]="Str"})(n||(e.Type=n={}));function o(d,g,b){if(d instanceof t.Name){let C=g===n.Num;return b?C?(0,t._)`"[" + ${d} + "]"`:(0,t._)`"['" + ${d} + "']"`:C?(0,t._)`"/" + ${d}`:(0,t._)`"/" + ${d}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return b?(0,t.getProperty)(d).toString():"/"+_(d)}e.getErrorPath=o;function p(d,g,b=d.opts.strictSchema){if(b){if(g=`strict mode: ${g}`,b===!0)throw new Error(g);d.self.logger.warn(g)}}e.checkStrictMode=p}),de=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=s}),Pe=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=G(),s=W(),f=de();e.keywordError={message:({keyword:c})=>(0,t.str)`must pass "${c}" keyword validation`},e.keyword$DataError={message:({keyword:c,schemaType:i})=>i?(0,t.str)`"${c}" keyword must be ${i} ($data)`:(0,t.str)`"${c}" keyword is invalid ($data)`};function l(c,i=e.keywordError,u,n){let{it:o}=c,{gen:p,compositeRule:d,allErrors:g}=o,b=_(c,i,u);n??(d||g)?a(p,b):m(o,(0,t._)`[${b}]`)}e.reportError=l;function y(c,i=e.keywordError,u){let{it:n}=c,{gen:o,compositeRule:p,allErrors:d}=n,g=_(c,i,u);a(o,g),p||d||m(n,f.default.vErrors)}e.reportExtraError=y;function r(c,i){c.assign(f.default.errors,i),c.if((0,t._)`${f.default.vErrors} !== null`,()=>c.if(i,()=>c.assign((0,t._)`${f.default.vErrors}.length`,i),()=>c.assign(f.default.vErrors,null)))}e.resetErrorsCount=r;function v({gen:c,keyword:i,schemaValue:u,data:n,errsCount:o,it:p}){if(o===void 0)throw new Error("ajv implementation error");let d=c.name("err");c.forRange("i",o,f.default.errors,g=>{c.const(d,(0,t._)`${f.default.vErrors}[${g}]`),c.if((0,t._)`${d}.instancePath === undefined`,()=>c.assign((0,t._)`${d}.instancePath`,(0,t.strConcat)(f.default.instancePath,p.errorPath))),c.assign((0,t._)`${d}.schemaPath`,(0,t.str)`${p.errSchemaPath}/${i}`),p.opts.verbose&&(c.assign((0,t._)`${d}.schema`,u),c.assign((0,t._)`${d}.data`,n))})}e.extendErrors=v;function a(c,i){let u=c.const("err",i);c.if((0,t._)`${f.default.vErrors} === null`,()=>c.assign(f.default.vErrors,(0,t._)`[${u}]`),(0,t._)`${f.default.vErrors}.push(${u})`),c.code((0,t._)`${f.default.errors}++`)}function m(c,i){let{gen:u,validateName:n,schemaEnv:o}=c;o.$async?u.throw((0,t._)`new ${c.ValidationError}(${i})`):(u.assign((0,t._)`${n}.errors`,i),u.return(!1))}var $={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function _(c,i,u){let{createErrors:n}=c.it;return n===!1?(0,t._)`{}`:k(c,i,u)}function k(c,i,u={}){let{gen:n,it:o}=c,p=[N(o,u),O(c,u)];return S(c,i,p),n.object(...p)}function N({errorPath:c},{instancePath:i}){let u=i?(0,t.str)`${c}${(0,s.getErrorPath)(i,s.Type.Str)}`:c;return[f.default.instancePath,(0,t.strConcat)(f.default.instancePath,u)]}function O({keyword:c,it:{errSchemaPath:i}},{schemaPath:u,parentSchema:n}){let o=n?i:(0,t.str)`${i}/${c}`;return u&&(o=(0,t.str)`${o}${(0,s.getErrorPath)(u,s.Type.Str)}`),[$.schemaPath,o]}function S(c,{params:i,message:u},n){let{keyword:o,data:p,schemaValue:d,it:g}=c,{opts:b,propertyName:C,topSchemaRef:I,schemaPath:F}=g;n.push([$.keyword,o],[$.params,typeof i=="function"?i(c):i||(0,t._)`{}`]),b.messages&&n.push([$.message,typeof u=="function"?u(c):u]),b.verbose&&n.push([$.schema,d],[$.parentSchema,(0,t._)`${I}${F}`],[f.default.data,p]),C&&n.push([$.propertyName,C])}}),at=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=Pe(),s=G(),f=de(),l={message:"boolean schema is false"};function y(a){let{gen:m,schema:$,validateName:_}=a;$===!1?v(a,!1):typeof $=="object"&&$.$async===!0?m.return(f.default.data):(m.assign((0,s._)`${_}.errors`,null),m.return(!0))}e.topBoolOrEmptySchema=y;function r(a,m){let{gen:$,schema:_}=a;_===!1?($.var(m,!1),v(a)):$.var(m,!0)}e.boolOrEmptySchema=r;function v(a,m){let{gen:$,data:_}=a,k={gen:$,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,t.reportError)(k,l,void 0,m)}}),Ue=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],s=new Set(t);function f(y){return typeof y=="string"&&s.has(y)}e.isJSONType=f;function l(){let y={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...y,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},y.number,y.string,y.array,y.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=l}),qe=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:l,self:y},r){let v=y.RULES.types[r];return v&&v!==!0&&s(l,v)}e.schemaHasRulesForType=t;function s(l,y){return y.rules.some(r=>f(l,r))}e.shouldUseGroup=s;function f(l,y){var r;return l[y.keyword]!==void 0||((r=y.definition.implements)===null||r===void 0?void 0:r.some(v=>l[v]!==void 0))}e.shouldUseRule=f}),Ee=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=Ue(),s=qe(),f=Pe(),l=G(),y=W(),r;(function(n){n[n.Correct=0]="Correct",n[n.Wrong=1]="Wrong"})(r||(e.DataType=r={}));function v(n){let o=a(n.type);if(o.includes("null")){if(n.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!o.length&&n.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');n.nullable===!0&&o.push("null")}return o}e.getSchemaTypes=v;function a(n){let o=Array.isArray(n)?n:n?[n]:[];if(o.every(t.isJSONType))return o;throw new Error("type must be JSONType or JSONType[]: "+o.join(","))}e.getJSONTypes=a;function m(n,o){let{gen:p,data:d,opts:g}=n,b=_(o,g.coerceTypes),C=o.length>0&&!(b.length===0&&o.length===1&&(0,s.schemaHasRulesForType)(n,o[0]));if(C){let I=S(o,d,g.strictNumbers,r.Wrong);p.if(I,()=>{b.length?k(n,o,b):i(n)})}return C}e.coerceAndCheckDataType=m;var $=new Set(["string","number","integer","boolean","null"]);function _(n,o){return o?n.filter(p=>$.has(p)||o==="array"&&p==="array"):[]}function k(n,o,p){let{gen:d,data:g,opts:b}=n,C=d.let("dataType",(0,l._)`typeof ${g}`),I=d.let("coerced",(0,l._)`undefined`);b.coerceTypes==="array"&&d.if((0,l._)`${C} == 'object' && Array.isArray(${g}) && ${g}.length == 1`,()=>d.assign(g,(0,l._)`${g}[0]`).assign(C,(0,l._)`typeof ${g}`).if(S(o,g,b.strictNumbers),()=>d.assign(I,g))),d.if((0,l._)`${I} !== undefined`);for(let V of p)($.has(V)||V==="array"&&b.coerceTypes==="array")&&F(V);d.else(),i(n),d.endIf(),d.if((0,l._)`${I} !== undefined`,()=>{d.assign(g,I),N(n,I)});function F(V){switch(V){case"string":d.elseIf((0,l._)`${C} == "number" || ${C} == "boolean"`).assign(I,(0,l._)`"" + ${g}`).elseIf((0,l._)`${g} === null`).assign(I,(0,l._)`""`);return;case"number":d.elseIf((0,l._)`${C} == "boolean" || ${g} === null
              || (${C} == "string" && ${g} && ${g} == +${g})`).assign(I,(0,l._)`+${g}`);return;case"integer":d.elseIf((0,l._)`${C} === "boolean" || ${g} === null
              || (${C} === "string" && ${g} && ${g} == +${g} && !(${g} % 1))`).assign(I,(0,l._)`+${g}`);return;case"boolean":d.elseIf((0,l._)`${g} === "false" || ${g} === 0 || ${g} === null`).assign(I,!1).elseIf((0,l._)`${g} === "true" || ${g} === 1`).assign(I,!0);return;case"null":d.elseIf((0,l._)`${g} === "" || ${g} === 0 || ${g} === false`),d.assign(I,null);return;case"array":d.elseIf((0,l._)`${C} === "string" || ${C} === "number"
              || ${C} === "boolean" || ${g} === null`).assign(I,(0,l._)`[${g}]`)}}}function N({gen:n,parentData:o,parentDataProperty:p},d){n.if((0,l._)`${o} !== undefined`,()=>n.assign((0,l._)`${o}[${p}]`,d))}function O(n,o,p,d=r.Correct){let g=d===r.Correct?l.operators.EQ:l.operators.NEQ,b;switch(n){case"null":return(0,l._)`${o} ${g} null`;case"array":b=(0,l._)`Array.isArray(${o})`;break;case"object":b=(0,l._)`${o} && typeof ${o} == "object" && !Array.isArray(${o})`;break;case"integer":b=C((0,l._)`!(${o} % 1) && !isNaN(${o})`);break;case"number":b=C();break;default:return(0,l._)`typeof ${o} ${g} ${n}`}return d===r.Correct?b:(0,l.not)(b);function C(I=l.nil){return(0,l.and)((0,l._)`typeof ${o} == "number"`,I,p?(0,l._)`isFinite(${o})`:l.nil)}}e.checkDataType=O;function S(n,o,p,d){if(n.length===1)return O(n[0],o,p,d);let g,b=(0,y.toHash)(n);if(b.array&&b.object){let C=(0,l._)`typeof ${o} != "object"`;g=b.null?C:(0,l._)`!${o} || ${C}`,delete b.null,delete b.array,delete b.object}else g=l.nil;b.number&&delete b.integer;for(let C in b)g=(0,l.and)(g,O(C,o,p,d));return g}e.checkDataTypes=S;var c={message:({schema:n})=>`must be ${n}`,params:({schema:n,schemaValue:o})=>typeof n=="string"?(0,l._)`{type: ${n}}`:(0,l._)`{type: ${o}}`};function i(n){let o=u(n);(0,f.reportError)(o,c)}e.reportTypeError=i;function u(n){let{gen:o,data:p,schema:d}=n,g=(0,y.schemaRefOrVal)(n,d,"type");return{gen:o,keyword:"type",data:p,schema:d.type,schemaCode:g,schemaValue:g,parentSchema:d,params:{},it:n}}}),st=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=G(),s=W();function f(y,r){let{properties:v,items:a}=y.schema;if(r==="object"&&v)for(let m in v)l(y,m,v[m].default);else r==="array"&&Array.isArray(a)&&a.forEach((m,$)=>l(y,$,m.default))}e.assignDefaults=f;function l(y,r,v){let{gen:a,compositeRule:m,data:$,opts:_}=y;if(v===void 0)return;let k=(0,t._)`${$}${(0,t.getProperty)(r)}`;if(m){(0,s.checkStrictMode)(y,`default is ignored for: ${k}`);return}let N=(0,t._)`${k} === undefined`;_.useDefaults==="empty"&&(N=(0,t._)`${N} || ${k} === null || ${k} === ""`),a.if(N,(0,t._)`${k} = ${(0,t.stringify)(v)}`)}}),ne=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=G(),s=W(),f=de(),l=W();function y(n,o){let{gen:p,data:d,it:g}=n;p.if(_(p,d,o,g.opts.ownProperties),()=>{n.setParams({missingProperty:(0,t._)`${o}`},!0),n.error()})}e.checkReportMissingProp=y;function r({gen:n,data:o,it:{opts:p}},d,g){return(0,t.or)(...d.map(b=>(0,t.and)(_(n,o,b,p.ownProperties),(0,t._)`${g} = ${b}`)))}e.checkMissingProp=r;function v(n,o){n.setParams({missingProperty:o},!0),n.error()}e.reportMissingProp=v;function a(n){return n.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=a;function m(n,o,p){return(0,t._)`${a(n)}.call(${o}, ${p})`}e.isOwnProperty=m;function $(n,o,p,d){let g=(0,t._)`${o}${(0,t.getProperty)(p)} !== undefined`;return d?(0,t._)`${g} && ${m(n,o,p)}`:g}e.propertyInData=$;function _(n,o,p,d){let g=(0,t._)`${o}${(0,t.getProperty)(p)} === undefined`;return d?(0,t.or)(g,(0,t.not)(m(n,o,p))):g}e.noPropertyInData=_;function k(n){return n?Object.keys(n).filter(o=>o!=="__proto__"):[]}e.allSchemaProperties=k;function N(n,o){return k(o).filter(p=>!(0,s.alwaysValidSchema)(n,o[p]))}e.schemaProperties=N;function O({schemaCode:n,data:o,it:{gen:p,topSchemaRef:d,schemaPath:g,errorPath:b},it:C},I,F,V){let B=V?(0,t._)`${n}, ${o}, ${d}${g}`:o,K=[[f.default.instancePath,(0,t.strConcat)(f.default.instancePath,b)],[f.default.parentData,C.parentData],[f.default.parentDataProperty,C.parentDataProperty],[f.default.rootData,f.default.rootData]];C.opts.dynamicRef&&K.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);let Q=(0,t._)`${B}, ${p.object(...K)}`;return F!==t.nil?(0,t._)`${I}.call(${F}, ${Q})`:(0,t._)`${I}(${Q})`}e.callValidateCode=O;var S=(0,t._)`new RegExp`;function c({gen:n,it:{opts:o}},p){let d=o.unicodeRegExp?"u":"",{regExp:g}=o.code,b=g(p,d);return n.scopeValue("pattern",{key:b.toString(),ref:b,code:(0,t._)`${g.code==="new RegExp"?S:(0,l.useFunc)(n,g)}(${p}, ${d})`})}e.usePattern=c;function i(n){let{gen:o,data:p,keyword:d,it:g}=n,b=o.name("valid");if(g.allErrors){let I=o.let("valid",!0);return C(()=>o.assign(I,!1)),I}return o.var(b,!0),C(()=>o.break()),b;function C(I){let F=o.const("len",(0,t._)`${p}.length`);o.forRange("i",0,F,V=>{n.subschema({keyword:d,dataProp:V,dataPropType:s.Type.Num},b),o.if((0,t.not)(b),I)})}}e.validateArray=i;function u(n){let{gen:o,schema:p,keyword:d,it:g}=n;if(!Array.isArray(p))throw new Error("ajv implementation error");if(p.some(I=>(0,s.alwaysValidSchema)(g,I))&&!g.opts.unevaluated)return;let b=o.let("valid",!1),C=o.name("_valid");o.block(()=>p.forEach((I,F)=>{let V=n.subschema({keyword:d,schemaProp:F,compositeRule:!0},C);o.assign(b,(0,t._)`${b} || ${C}`),n.mergeValidEvaluated(V,C)||o.if((0,t.not)(b))})),n.result(b,()=>n.reset(),()=>n.error(!0))}e.validateUnion=u}),ot=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=G(),s=de(),f=ne(),l=Pe();function y(N,O){let{gen:S,keyword:c,schema:i,parentSchema:u,it:n}=N,o=O.macro.call(n.self,i,u,n),p=$(S,c,o);n.opts.validateSchema!==!1&&n.self.validateSchema(o,!0);let d=S.name("valid");N.subschema({schema:o,schemaPath:t.nil,errSchemaPath:`${n.errSchemaPath}/${c}`,topSchemaRef:p,compositeRule:!0},d),N.pass(d,()=>N.error(!0))}e.macroKeywordCode=y;function r(N,O){var S;let{gen:c,keyword:i,schema:u,parentSchema:n,$data:o,it:p}=N;m(p,O);let d=!o&&O.compile?O.compile.call(p.self,u,n,p):O.validate,g=$(c,i,d),b=c.let("valid");N.block$data(b,C),N.ok((S=O.valid)!==null&&S!==void 0?S:b);function C(){if(O.errors===!1)V(),O.modifying&&v(N),B(()=>N.error());else{let K=O.async?I():F();O.modifying&&v(N),B(()=>a(N,K))}}function I(){let K=c.let("ruleErrs",null);return c.try(()=>V((0,t._)`await `),Q=>c.assign(b,!1).if((0,t._)`${Q} instanceof ${p.ValidationError}`,()=>c.assign(K,(0,t._)`${Q}.errors`),()=>c.throw(Q))),K}function F(){let K=(0,t._)`${g}.errors`;return c.assign(K,null),V(t.nil),K}function V(K=O.async?(0,t._)`await `:t.nil){let Q=p.opts.passContext?s.default.this:s.default.self,ae=!("compile"in O&&!o||O.schema===!1);c.assign(b,(0,t._)`${K}${(0,f.callValidateCode)(N,g,Q,ae)}`,O.modifying)}function B(K){var Q;c.if((0,t.not)((Q=O.valid)!==null&&Q!==void 0?Q:b),K)}}e.funcKeywordCode=r;function v(N){let{gen:O,data:S,it:c}=N;O.if(c.parentData,()=>O.assign(S,(0,t._)`${c.parentData}[${c.parentDataProperty}]`))}function a(N,O){let{gen:S}=N;S.if((0,t._)`Array.isArray(${O})`,()=>{S.assign(s.default.vErrors,(0,t._)`${s.default.vErrors} === null ? ${O} : ${s.default.vErrors}.concat(${O})`).assign(s.default.errors,(0,t._)`${s.default.vErrors}.length`),(0,l.extendErrors)(N)},()=>N.error())}function m({schemaEnv:N},O){if(O.async&&!N.$async)throw new Error("async keyword in sync schema")}function $(N,O,S){if(S===void 0)throw new Error(`keyword "${O}" failed to compile`);return N.scopeValue("keyword",typeof S=="function"?{ref:S}:{ref:S,code:(0,t.stringify)(S)})}function _(N,O,S=!1){return!O.length||O.some(c=>c==="array"?Array.isArray(N):c==="object"?N&&typeof N=="object"&&!Array.isArray(N):typeof N==c||S&&typeof N>"u")}e.validSchemaType=_;function k({schema:N,opts:O,self:S,errSchemaPath:c},i,u){if(Array.isArray(i.keyword)?!i.keyword.includes(u):i.keyword!==u)throw new Error("ajv implementation error");let n=i.dependencies;if(n?.some(o=>!Object.prototype.hasOwnProperty.call(N,o)))throw new Error(`parent schema must have dependencies of ${u}: ${n.join(",")}`);if(i.validateSchema&&!i.validateSchema(N[u])){let o=`keyword "${u}" value is invalid at path "${c}": `+S.errorsText(i.validateSchema.errors);if(O.validateSchema==="log")S.logger.error(o);else throw new Error(o)}}e.validateKeywordUsage=k}),nt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=G(),s=W();function f(r,{keyword:v,schemaProp:a,schema:m,schemaPath:$,errSchemaPath:_,topSchemaRef:k}){if(v!==void 0&&m!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(v!==void 0){let N=r.schema[v];return a===void 0?{schema:N,schemaPath:(0,t._)`${r.schemaPath}${(0,t.getProperty)(v)}`,errSchemaPath:`${r.errSchemaPath}/${v}`}:{schema:N[a],schemaPath:(0,t._)`${r.schemaPath}${(0,t.getProperty)(v)}${(0,t.getProperty)(a)}`,errSchemaPath:`${r.errSchemaPath}/${v}/${(0,s.escapeFragment)(a)}`}}if(m!==void 0){if($===void 0||_===void 0||k===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:m,schemaPath:$,topSchemaRef:k,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=f;function l(r,v,{dataProp:a,dataPropType:m,data:$,dataTypes:_,propertyName:k}){if($!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:N}=v;if(a!==void 0){let{errorPath:S,dataPathArr:c,opts:i}=v,u=N.let("data",(0,t._)`${v.data}${(0,t.getProperty)(a)}`,!0);O(u),r.errorPath=(0,t.str)`${S}${(0,s.getErrorPath)(a,m,i.jsPropertySyntax)}`,r.parentDataProperty=(0,t._)`${a}`,r.dataPathArr=[...c,r.parentDataProperty]}if($!==void 0){let S=$ instanceof t.Name?$:N.let("data",$,!0);O(S),k!==void 0&&(r.propertyName=k)}_&&(r.dataTypes=_);function O(S){r.data=S,r.dataLevel=v.dataLevel+1,r.dataTypes=[],v.definedProperties=new Set,r.parentData=v.data,r.dataNames=[...v.dataNames,S]}}e.extendSubschemaData=l;function y(r,{jtdDiscriminator:v,jtdMetadata:a,compositeRule:m,createErrors:$,allErrors:_}){m!==void 0&&(r.compositeRule=m),$!==void 0&&(r.createErrors=$),_!==void 0&&(r.allErrors=_),r.jtdDiscriminator=v,r.jtdMetadata=a}e.extendSubschemaMode=y}),Le=M((e,t)=>{"use strict";t.exports=function s(f,l){if(f===l)return!0;if(f&&l&&typeof f=="object"&&typeof l=="object"){if(f.constructor!==l.constructor)return!1;var y,r,v;if(Array.isArray(f)){if(y=f.length,y!=l.length)return!1;for(r=y;r--!==0;)if(!s(f[r],l[r]))return!1;return!0}if(f.constructor===RegExp)return f.source===l.source&&f.flags===l.flags;if(f.valueOf!==Object.prototype.valueOf)return f.valueOf()===l.valueOf();if(f.toString!==Object.prototype.toString)return f.toString()===l.toString();if(v=Object.keys(f),y=v.length,y!==Object.keys(l).length)return!1;for(r=y;r--!==0;)if(!Object.prototype.hasOwnProperty.call(l,v[r]))return!1;for(r=y;r--!==0;){var a=v[r];if(!s(f[a],l[a]))return!1}return!0}return f!==f&&l!==l}}),it=M((e,t)=>{"use strict";var s=t.exports=function(y,r,v){typeof r=="function"&&(v=r,r={}),v=r.cb||v;var a=typeof v=="function"?v:v.pre||function(){},m=v.post||function(){};f(r,a,m,y,"",y)};s.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},s.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},s.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},s.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function f(y,r,v,a,m,$,_,k,N,O){if(a&&typeof a=="object"&&!Array.isArray(a)){r(a,m,$,_,k,N,O);for(var S in a){var c=a[S];if(Array.isArray(c)){if(S in s.arrayKeywords)for(var i=0;i<c.length;i++)f(y,r,v,c[i],m+"/"+S+"/"+i,$,m,S,a,i)}else if(S in s.propsKeywords){if(c&&typeof c=="object")for(var u in c)f(y,r,v,c[u],m+"/"+S+"/"+l(u),$,m,S,a,u)}else(S in s.keywords||y.allKeys&&!(S in s.skipKeywords))&&f(y,r,v,c,m+"/"+S,$,m,S,a)}v(a,m,$,_,k,N,O)}}function l(y){return y.replace(/~/g,"~0").replace(/\//g,"~1")}}),ke=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=W(),s=Le(),f=it(),l=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function y(c,i=!0){return typeof c=="boolean"?!0:i===!0?!v(c):i?a(c)<=i:!1}e.inlineRef=y;var r=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function v(c){for(let i in c){if(r.has(i))return!0;let u=c[i];if(Array.isArray(u)&&u.some(v)||typeof u=="object"&&v(u))return!0}return!1}function a(c){let i=0;for(let u in c)if(u==="$ref"||(i++,!l.has(u)&&(typeof c[u]=="object"&&(0,t.eachItem)(c[u],n=>i+=a(n)),i===1/0)))return 1/0;return i}function m(c,i="",u){u!==!1&&(i=k(i));let n=c.parse(i);return $(c,n)}e.getFullPath=m;function $(c,i){return c.serialize(i).split("#")[0]+"#"}e._getFullPath=$;var _=/#\/?$/;function k(c){return c?c.replace(_,""):""}e.normalizeId=k;function N(c,i,u){return u=k(u),c.resolve(i,u)}e.resolveUrl=N;var O=/^[a-z_][-a-z0-9._]*$/i;function S(c,i){if(typeof c=="boolean")return{};let{schemaId:u,uriResolver:n}=this.opts,o=k(c[u]||i),p={"":o},d=m(n,o,!1),g={},b=new Set;return f(c,{allKeys:!0},(F,V,B,K)=>{if(K===void 0)return;let Q=d+V,ae=p[K];typeof F[u]=="string"&&(ae=le.call(this,F[u])),ue.call(this,F.$anchor),ue.call(this,F.$dynamicAnchor),p[V]=ae;function le(Z){let P=this.opts.uriResolver.resolve;if(Z=k(ae?P(ae,Z):Z),b.has(Z))throw I(Z);b.add(Z);let x=this.refs[Z];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?C(F,x.schema,Z):Z!==k(Q)&&(Z[0]==="#"?(C(F,g[Z],Z),g[Z]=F):this.refs[Z]=Q),Z}function ue(Z){if(typeof Z=="string"){if(!O.test(Z))throw new Error(`invalid anchor "${Z}"`);le.call(this,`#${Z}`)}}}),g;function C(F,V,B){if(V!==void 0&&!s(F,V))throw I(B)}function I(F){return new Error(`reference "${F}" resolves to more than one schema`)}}e.getSchemaRefs=S}),Ne=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=at(),s=Ee(),f=qe(),l=Ee(),y=st(),r=ot(),v=nt(),a=G(),m=de(),$=ke(),_=W(),k=Pe();function N(w){if(d(w)&&(b(w),p(w))){i(w);return}O(w,()=>(0,t.topBoolOrEmptySchema)(w))}e.validateFunctionCode=N;function O({gen:w,validateName:R,schema:T,schemaEnv:z,opts:U},H){U.code.es5?w.func(R,(0,a._)`${m.default.data}, ${m.default.valCxt}`,z.$async,()=>{w.code((0,a._)`"use strict"; ${n(T,U)}`),c(w,U),w.code(H)}):w.func(R,(0,a._)`${m.default.data}, ${S(U)}`,z.$async,()=>w.code(n(T,U)).code(H))}function S(w){return(0,a._)`{${m.default.instancePath}="", ${m.default.parentData}, ${m.default.parentDataProperty}, ${m.default.rootData}=${m.default.data}${w.dynamicRef?(0,a._)`, ${m.default.dynamicAnchors}={}`:a.nil}}={}`}function c(w,R){w.if(m.default.valCxt,()=>{w.var(m.default.instancePath,(0,a._)`${m.default.valCxt}.${m.default.instancePath}`),w.var(m.default.parentData,(0,a._)`${m.default.valCxt}.${m.default.parentData}`),w.var(m.default.parentDataProperty,(0,a._)`${m.default.valCxt}.${m.default.parentDataProperty}`),w.var(m.default.rootData,(0,a._)`${m.default.valCxt}.${m.default.rootData}`),R.dynamicRef&&w.var(m.default.dynamicAnchors,(0,a._)`${m.default.valCxt}.${m.default.dynamicAnchors}`)},()=>{w.var(m.default.instancePath,(0,a._)`""`),w.var(m.default.parentData,(0,a._)`undefined`),w.var(m.default.parentDataProperty,(0,a._)`undefined`),w.var(m.default.rootData,m.default.data),R.dynamicRef&&w.var(m.default.dynamicAnchors,(0,a._)`{}`)})}function i(w){let{schema:R,opts:T,gen:z}=w;O(w,()=>{T.$comment&&R.$comment&&K(w),F(w),z.let(m.default.vErrors,null),z.let(m.default.errors,0),T.unevaluated&&u(w),C(w),Q(w)})}function u(w){let{gen:R,validateName:T}=w;w.evaluated=R.const("evaluated",(0,a._)`${T}.evaluated`),R.if((0,a._)`${w.evaluated}.dynamicProps`,()=>R.assign((0,a._)`${w.evaluated}.props`,(0,a._)`undefined`)),R.if((0,a._)`${w.evaluated}.dynamicItems`,()=>R.assign((0,a._)`${w.evaluated}.items`,(0,a._)`undefined`))}function n(w,R){let T=typeof w=="object"&&w[R.schemaId];return T&&(R.code.source||R.code.process)?(0,a._)`/*# sourceURL=${T} */`:a.nil}function o(w,R){if(d(w)&&(b(w),p(w))){g(w,R);return}(0,t.boolOrEmptySchema)(w,R)}function p({schema:w,self:R}){if(typeof w=="boolean")return!w;for(let T in w)if(R.RULES.all[T])return!0;return!1}function d(w){return typeof w.schema!="boolean"}function g(w,R){let{schema:T,gen:z,opts:U}=w;U.$comment&&T.$comment&&K(w),V(w),B(w);let H=z.const("_errs",m.default.errors);C(w,H),z.var(R,(0,a._)`${H} === ${m.default.errors}`)}function b(w){(0,_.checkUnknownRules)(w),I(w)}function C(w,R){if(w.opts.jtd)return le(w,[],!1,R);let T=(0,s.getSchemaTypes)(w.schema),z=(0,s.coerceAndCheckDataType)(w,T);le(w,T,!z,R)}function I(w){let{schema:R,errSchemaPath:T,opts:z,self:U}=w;R.$ref&&z.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(R,U.RULES)&&U.logger.warn(`$ref: keywords ignored in schema at path "${T}"`)}function F(w){let{schema:R,opts:T}=w;R.default!==void 0&&T.useDefaults&&T.strictSchema&&(0,_.checkStrictMode)(w,"default is ignored in the schema root")}function V(w){let R=w.schema[w.opts.schemaId];R&&(w.baseId=(0,$.resolveUrl)(w.opts.uriResolver,w.baseId,R))}function B(w){if(w.schema.$async&&!w.schemaEnv.$async)throw new Error("async schema in sync schema")}function K({gen:w,schemaEnv:R,schema:T,errSchemaPath:z,opts:U}){let H=T.$comment;if(U.$comment===!0)w.code((0,a._)`${m.default.self}.logger.log(${H})`);else if(typeof U.$comment=="function"){let te=(0,a.str)`${z}/$comment`,se=w.scopeValue("root",{ref:R.root});w.code((0,a._)`${m.default.self}.opts.$comment(${H}, ${te}, ${se}.schema)`)}}function Q(w){let{gen:R,schemaEnv:T,validateName:z,ValidationError:U,opts:H}=w;T.$async?R.if((0,a._)`${m.default.errors} === 0`,()=>R.return(m.default.data),()=>R.throw((0,a._)`new ${U}(${m.default.vErrors})`)):(R.assign((0,a._)`${z}.errors`,m.default.vErrors),H.unevaluated&&ae(w),R.return((0,a._)`${m.default.errors} === 0`))}function ae({gen:w,evaluated:R,props:T,items:z}){T instanceof a.Name&&w.assign((0,a._)`${R}.props`,T),z instanceof a.Name&&w.assign((0,a._)`${R}.items`,z)}function le(w,R,T,z){let{gen:U,schema:H,data:te,allErrors:se,opts:ie,self:re}=w,{RULES:ee}=re;if(H.$ref&&(ie.ignoreKeywordsWithRef||!(0,_.schemaHasRulesButRef)(H,ee))){U.block(()=>Y(w,"$ref",ee.all.$ref.definition));return}ie.jtd||Z(w,R),U.block(()=>{for(let oe of ee.rules)he(oe);he(ee.post)});function he(oe){(0,f.shouldUseGroup)(H,oe)&&(oe.type?(U.if((0,l.checkDataType)(oe.type,te,ie.strictNumbers)),ue(w,oe),R.length===1&&R[0]===oe.type&&T&&(U.else(),(0,l.reportTypeError)(w)),U.endIf()):ue(w,oe),se||U.if((0,a._)`${m.default.errors} === ${z||0}`))}}function ue(w,R){let{gen:T,schema:z,opts:{useDefaults:U}}=w;U&&(0,y.assignDefaults)(w,R.type),T.block(()=>{for(let H of R.rules)(0,f.shouldUseRule)(z,H)&&Y(w,H.keyword,H.definition,R.type)})}function Z(w,R){w.schemaEnv.meta||!w.opts.strictTypes||(P(w,R),w.opts.allowUnionTypes||x(w,R),A(w,w.dataTypes))}function P(w,R){if(R.length){if(!w.dataTypes.length){w.dataTypes=R;return}R.forEach(T=>{E(w.dataTypes,T)||D(w,`type "${T}" not allowed by context "${w.dataTypes.join(",")}"`)}),j(w,R)}}function x(w,R){R.length>1&&!(R.length===2&&R.includes("null"))&&D(w,"use allowUnionTypes to allow union type keyword")}function A(w,R){let T=w.self.RULES.all;for(let z in T){let U=T[z];if(typeof U=="object"&&(0,f.shouldUseRule)(w.schema,U)){let{type:H}=U.definition;H.length&&!H.some(te=>h(R,te))&&D(w,`missing type "${H.join(",")}" for keyword "${z}"`)}}}function h(w,R){return w.includes(R)||R==="number"&&w.includes("integer")}function E(w,R){return w.includes(R)||R==="integer"&&w.includes("number")}function j(w,R){let T=[];for(let z of w.dataTypes)E(R,z)?T.push(z):R.includes("integer")&&z==="number"&&T.push("integer");w.dataTypes=T}function D(w,R){let T=w.schemaEnv.baseId+w.errSchemaPath;R+=` at "${T}" (strictTypes)`,(0,_.checkStrictMode)(w,R,w.opts.strictTypes)}var q=class{constructor(w,R,T){if((0,r.validateKeywordUsage)(w,R,T),this.gen=w.gen,this.allErrors=w.allErrors,this.keyword=T,this.data=w.data,this.schema=w.schema[T],this.$data=R.$data&&w.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(w,this.schema,T,this.$data),this.schemaType=R.schemaType,this.parentSchema=w.schema,this.params={},this.it=w,this.def=R,this.$data)this.schemaCode=w.gen.const("vSchema",ce(this.$data,w));else if(this.schemaCode=this.schemaValue,!(0,r.validSchemaType)(this.schema,R.schemaType,R.allowUndefined))throw new Error(`${T} value must be ${JSON.stringify(R.schemaType)}`);("code"in R?R.trackErrors:R.errors!==!1)&&(this.errsCount=w.gen.const("_errs",m.default.errors))}result(w,R,T){this.failResult((0,a.not)(w),R,T)}failResult(w,R,T){this.gen.if(w),T?T():this.error(),R?(this.gen.else(),R(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(w,R){this.failResult((0,a.not)(w),void 0,R)}fail(w){if(w===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(w),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(w){if(!this.$data)return this.fail(w);let{schemaCode:R}=this;this.fail((0,a._)`${R} !== undefined && (${(0,a.or)(this.invalid$data(),w)})`)}error(w,R,T){if(R){this.setParams(R),this._error(w,T),this.setParams({});return}this._error(w,T)}_error(w,R){(w?k.reportExtraError:k.reportError)(this,this.def.error,R)}$dataError(){(0,k.reportError)(this,this.def.$dataError||k.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,k.resetErrorsCount)(this.gen,this.errsCount)}ok(w){this.allErrors||this.gen.if(w)}setParams(w,R){R?Object.assign(this.params,w):this.params=w}block$data(w,R,T=a.nil){this.gen.block(()=>{this.check$data(w,T),R()})}check$data(w=a.nil,R=a.nil){if(!this.$data)return;let{gen:T,schemaCode:z,schemaType:U,def:H}=this;T.if((0,a.or)((0,a._)`${z} === undefined`,R)),w!==a.nil&&T.assign(w,!0),(U.length||H.validateSchema)&&(T.elseIf(this.invalid$data()),this.$dataError(),w!==a.nil&&T.assign(w,!1)),T.else()}invalid$data(){let{gen:w,schemaCode:R,schemaType:T,def:z,it:U}=this;return(0,a.or)(H(),te());function H(){if(T.length){if(!(R instanceof a.Name))throw new Error("ajv implementation error");let se=Array.isArray(T)?T:[T];return(0,a._)`${(0,l.checkDataTypes)(se,R,U.opts.strictNumbers,l.DataType.Wrong)}`}return a.nil}function te(){if(z.validateSchema){let se=w.scopeValue("validate$data",{ref:z.validateSchema});return(0,a._)`!${se}(${R})`}return a.nil}}subschema(w,R){let T=(0,v.getSubschema)(this.it,w);(0,v.extendSubschemaData)(T,this.it,w),(0,v.extendSubschemaMode)(T,w);let z={...this.it,...T,items:void 0,props:void 0};return o(z,R),z}mergeEvaluated(w,R){let{it:T,gen:z}=this;T.opts.unevaluated&&(T.props!==!0&&w.props!==void 0&&(T.props=_.mergeEvaluated.props(z,w.props,T.props,R)),T.items!==!0&&w.items!==void 0&&(T.items=_.mergeEvaluated.items(z,w.items,T.items,R)))}mergeValidEvaluated(w,R){let{it:T,gen:z}=this;if(T.opts.unevaluated&&(T.props!==!0||T.items!==!0))return z.if(R,()=>this.mergeEvaluated(w,a.Name)),!0}};e.KeywordCxt=q;function Y(w,R,T,z){let U=new q(w,T,R);"code"in T?T.code(U,z):U.$data&&T.validate?(0,r.funcKeywordCode)(U,T):"macro"in T?(0,r.macroKeywordCode)(U,T):(T.compile||T.validate)&&(0,r.funcKeywordCode)(U,T)}var L=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ce(w,{dataLevel:R,dataNames:T,dataPathArr:z}){let U,H;if(w==="")return m.default.rootData;if(w[0]==="/"){if(!L.test(w))throw new Error(`Invalid JSON-pointer: ${w}`);U=w,H=m.default.rootData}else{let re=X.exec(w);if(!re)throw new Error(`Invalid JSON-pointer: ${w}`);let ee=+re[1];if(U=re[2],U==="#"){if(ee>=R)throw new Error(ie("property/index",ee));return z[R-ee]}if(ee>R)throw new Error(ie("data",ee));if(H=T[R-ee],!U)return H}let te=H,se=U.split("/");for(let re of se)re&&(H=(0,a._)`${H}${(0,a.getProperty)((0,_.unescapeJsonPointer)(re))}`,te=(0,a._)`${te} && ${H}`);return te;function ie(re,ee){return`Cannot access ${re} ${ee} levels up, current level is ${R}`}}e.getData=ce}),xe=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(s){super("validation failed"),this.errors=s,this.ajv=this.validation=!0}};e.default=t}),Se=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=ke(),s=class extends Error{constructor(f,l,y,r){super(r||`can't resolve reference ${y} from id ${l}`),this.missingRef=(0,t.resolveUrl)(f,l,y),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(f,this.missingRef))}};e.default=s}),Te=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=G(),s=xe(),f=de(),l=ke(),y=W(),r=Ne(),v=class{constructor(i){var u;this.refs={},this.dynamicAnchors={};let n;typeof i.schema=="object"&&(n=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(u=i.baseId)!==null&&u!==void 0?u:(0,l.normalizeId)(n?.[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=n?.$async,this.refs={}}};e.SchemaEnv=v;function a(i){let u=_.call(this,i);if(u)return u;let n=(0,l.getFullPath)(this.opts.uriResolver,i.root.baseId),{es5:o,lines:p}=this.opts.code,{ownProperties:d}=this.opts,g=new t.CodeGen(this.scope,{es5:o,lines:p,ownProperties:d}),b;i.$async&&(b=g.scopeValue("Error",{ref:s.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));let C=g.scopeName("validate");i.validateName=C;let I={gen:g,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:g.scopeValue("schema",this.opts.code.source===!0?{ref:i.schema,code:(0,t.stringify)(i.schema)}:{ref:i.schema}),validateName:C,ValidationError:b,schema:i.schema,schemaEnv:i,rootId:n,baseId:i.baseId||n,schemaPath:t.nil,errSchemaPath:i.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this},F;try{this._compilations.add(i),(0,r.validateFunctionCode)(I),g.optimize(this.opts.code.optimize);let V=g.toString();F=`${g.scopeRefs(f.default.scope)}return ${V}`,this.opts.code.process&&(F=this.opts.code.process(F,i));let B=new Function(`${f.default.self}`,`${f.default.scope}`,F)(this,this.scope.get());if(this.scope.value(C,{ref:B}),B.errors=null,B.schema=i.schema,B.schemaEnv=i,i.$async&&(B.$async=!0),this.opts.code.source===!0&&(B.source={validateName:C,validateCode:V,scopeValues:g._values}),this.opts.unevaluated){let{props:K,items:Q}=I;B.evaluated={props:K instanceof t.Name?void 0:K,items:Q instanceof t.Name?void 0:Q,dynamicProps:K instanceof t.Name,dynamicItems:Q instanceof t.Name},B.source&&(B.source.evaluated=(0,t.stringify)(B.evaluated))}return i.validate=B,i}catch(V){throw delete i.validate,delete i.validateName,F&&this.logger.error("Error compiling schema, function code:",F),V}finally{this._compilations.delete(i)}}e.compileSchema=a;function m(i,u,n){var o;n=(0,l.resolveUrl)(this.opts.uriResolver,u,n);let p=i.refs[n];if(p)return p;let d=N.call(this,i,n);if(d===void 0){let g=(o=i.localRefs)===null||o===void 0?void 0:o[n],{schemaId:b}=this.opts;g&&(d=new v({schema:g,schemaId:b,root:i,baseId:u}))}if(d!==void 0)return i.refs[n]=$.call(this,d)}e.resolveRef=m;function $(i){return(0,l.inlineRef)(i.schema,this.opts.inlineRefs)?i.schema:i.validate?i:a.call(this,i)}function _(i){for(let u of this._compilations)if(k(u,i))return u}e.getCompilingSchema=_;function k(i,u){return i.schema===u.schema&&i.root===u.root&&i.baseId===u.baseId}function N(i,u){let n;for(;typeof(n=this.refs[u])=="string";)u=n;return n||this.schemas[u]||O.call(this,i,u)}function O(i,u){let n=this.opts.uriResolver.parse(u),o=(0,l._getFullPath)(this.opts.uriResolver,n),p=(0,l.getFullPath)(this.opts.uriResolver,i.baseId,void 0);if(Object.keys(i.schema).length>0&&o===p)return c.call(this,n,i);let d=(0,l.normalizeId)(o),g=this.refs[d]||this.schemas[d];if(typeof g=="string"){let b=O.call(this,i,g);return typeof b?.schema!="object"?void 0:c.call(this,n,b)}if(typeof g?.schema=="object"){if(g.validate||a.call(this,g),d===(0,l.normalizeId)(u)){let{schema:b}=g,{schemaId:C}=this.opts,I=b[C];return I&&(p=(0,l.resolveUrl)(this.opts.uriResolver,p,I)),new v({schema:b,schemaId:C,root:i,baseId:p})}return c.call(this,n,g)}}e.resolveSchema=O;var S=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function c(i,{baseId:u,schema:n,root:o}){var p;if(((p=i.fragment)===null||p===void 0?void 0:p[0])!=="/")return;for(let b of i.fragment.slice(1).split("/")){if(typeof n=="boolean")return;let C=n[(0,y.unescapeFragment)(b)];if(C===void 0)return;n=C;let I=typeof n=="object"&&n[this.opts.schemaId];!S.has(b)&&I&&(u=(0,l.resolveUrl)(this.opts.uriResolver,u,I))}let d;if(typeof n!="boolean"&&n.$ref&&!(0,y.schemaHasRulesButRef)(n,this.RULES)){let b=(0,l.resolveUrl)(this.opts.uriResolver,u,n.$ref);d=O.call(this,o,b)}let{schemaId:g}=this.opts;if(d=d||new v({schema:n,schemaId:g,root:o,baseId:u}),d.schema!==d.root.schema)return d}}),lt=M((e,t)=>{t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),ut=M((e,t)=>{"use strict";var s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:s}}),ct=M((e,t)=>{"use strict";var{HEX:s}=ut();function f(c){if(a(c,".")<3)return{host:c,isIPV4:!1};let i=c.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[u]=i;return u?{host:v(u,"."),isIPV4:!0}:{host:c,isIPV4:!1}}function l(c,i=!1){let u="",n=!0;for(let o of c){if(s[o]===void 0)return;o!=="0"&&n===!0&&(n=!1),n||(u+=o)}return i&&u.length===0&&(u="0"),u}function y(c){let i=0,u={error:!1,address:"",zone:""},n=[],o=[],p=!1,d=!1,g=!1;function b(){if(o.length){if(p===!1){let C=l(o);if(C!==void 0)n.push(C);else return u.error=!0,!1}o.length=0}return!0}for(let C=0;C<c.length;C++){let I=c[C];if(!(I==="["||I==="]"))if(I===":"){if(d===!0&&(g=!0),!b())break;if(i++,n.push(":"),i>7){u.error=!0;break}C-1>=0&&c[C-1]===":"&&(d=!0);continue}else if(I==="%"){if(!b())break;p=!0}else{o.push(I);continue}}return o.length&&(p?u.zone=o.join(""):g?n.push(o.join("")):n.push(l(o))),u.address=n.join(""),u}function r(c,i={}){if(a(c,":")<2)return{host:c,isIPV6:!1};let u=y(c);if(u.error)return{host:c,isIPV6:!1};{let n=u.address,o=u.address;return u.zone&&(n+="%"+u.zone,o+="%25"+u.zone),{host:n,escapedHost:o,isIPV6:!0}}}function v(c,i){let u="",n=!0,o=c.length;for(let p=0;p<o;p++){let d=c[p];d==="0"&&n?(p+1<=o&&c[p+1]===i||p+1===o)&&(u+=d,n=!1):(d===i?n=!0:n=!1,u+=d)}return u}function a(c,i){let u=0;for(let n=0;n<c.length;n++)c[n]===i&&u++;return u}var m=/^\.\.?\//u,$=/^\/\.(?:\/|$)/u,_=/^\/\.\.(?:\/|$)/u,k=/^\/?(?:.|\n)*?(?=\/|$)/u;function N(c){let i=[];for(;c.length;)if(c.match(m))c=c.replace(m,"");else if(c.match($))c=c.replace($,"/");else if(c.match(_))c=c.replace(_,"/"),i.pop();else if(c==="."||c==="..")c="";else{let u=c.match(k);if(u){let n=u[0];c=c.slice(n.length),i.push(n)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function O(c,i){let u=i!==!0?escape:unescape;return c.scheme!==void 0&&(c.scheme=u(c.scheme)),c.userinfo!==void 0&&(c.userinfo=u(c.userinfo)),c.host!==void 0&&(c.host=u(c.host)),c.path!==void 0&&(c.path=u(c.path)),c.query!==void 0&&(c.query=u(c.query)),c.fragment!==void 0&&(c.fragment=u(c.fragment)),c}function S(c,i){let u=[];if(c.userinfo!==void 0&&(u.push(c.userinfo),u.push("@")),c.host!==void 0){let n=unescape(c.host),o=f(n);if(o.isIPV4)n=o.host;else{let p=r(o.host,{isIPV4:!1});p.isIPV6===!0?n=`[${p.escapedHost}]`:n=c.host}u.push(n)}return(typeof c.port=="number"||typeof c.port=="string")&&(u.push(":"),u.push(String(c.port))),u.length?u.join(""):void 0}t.exports={recomposeAuthority:S,normalizeComponentEncoding:O,removeDotSegments:N,normalizeIPv4:f,normalizeIPv6:r,stringArrayToHexStripped:l}}),dt=M((e,t)=>{"use strict";var s=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,f=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function l(o){return typeof o.secure=="boolean"?o.secure:String(o.scheme).toLowerCase()==="wss"}function y(o){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o}function r(o){let p=String(o.scheme).toLowerCase()==="https";return(o.port===(p?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}function v(o){return o.secure=l(o),o.resourceName=(o.path||"/")+(o.query?"?"+o.query:""),o.path=void 0,o.query=void 0,o}function a(o){if((o.port===(l(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){let[p,d]=o.resourceName.split("?");o.path=p&&p!=="/"?p:void 0,o.query=d,o.resourceName=void 0}return o.fragment=void 0,o}function m(o,p){if(!o.path)return o.error="URN can not be parsed",o;let d=o.path.match(f);if(d){let g=p.scheme||o.scheme||"urn";o.nid=d[1].toLowerCase(),o.nss=d[2];let b=`${g}:${p.nid||o.nid}`,C=n[b];o.path=void 0,C&&(o=C.parse(o,p))}else o.error=o.error||"URN can not be parsed.";return o}function $(o,p){let d=p.scheme||o.scheme||"urn",g=o.nid.toLowerCase(),b=`${d}:${p.nid||g}`,C=n[b];C&&(o=C.serialize(o,p));let I=o,F=o.nss;return I.path=`${g||p.nid}:${F}`,p.skipEscape=!0,I}function _(o,p){let d=o;return d.uuid=d.nss,d.nss=void 0,!p.tolerant&&(!d.uuid||!s.test(d.uuid))&&(d.error=d.error||"UUID is not valid."),d}function k(o){let p=o;return p.nss=(o.uuid||"").toLowerCase(),p}var N={scheme:"http",domainHost:!0,parse:y,serialize:r},O={scheme:"https",domainHost:N.domainHost,parse:y,serialize:r},S={scheme:"ws",domainHost:!0,parse:v,serialize:a},c={scheme:"wss",domainHost:S.domainHost,parse:S.parse,serialize:S.serialize},i={scheme:"urn",parse:m,serialize:$,skipNormalize:!0},u={scheme:"urn:uuid",parse:_,serialize:k,skipNormalize:!0},n={http:N,https:O,ws:S,wss:c,urn:i,"urn:uuid":u};t.exports=n}),ft=M((e,t)=>{"use strict";var{normalizeIPv6:s,normalizeIPv4:f,removeDotSegments:l,recomposeAuthority:y,normalizeComponentEncoding:r}=ct(),v=dt();function a(u,n){return typeof u=="string"?u=k(c(u,n),n):typeof u=="object"&&(u=c(k(u,n),n)),u}function m(u,n,o){let p=Object.assign({scheme:"null"},o),d=$(c(u,p),c(n,p),p,!0);return k(d,{...p,skipEscape:!0})}function $(u,n,o,p){let d={};return p||(u=c(k(u,o),o),n=c(k(n,o),o)),o=o||{},!o.tolerant&&n.scheme?(d.scheme=n.scheme,d.userinfo=n.userinfo,d.host=n.host,d.port=n.port,d.path=l(n.path||""),d.query=n.query):(n.userinfo!==void 0||n.host!==void 0||n.port!==void 0?(d.userinfo=n.userinfo,d.host=n.host,d.port=n.port,d.path=l(n.path||""),d.query=n.query):(n.path?(n.path.charAt(0)==="/"?d.path=l(n.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?d.path="/"+n.path:u.path?d.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+n.path:d.path=n.path,d.path=l(d.path)),d.query=n.query):(d.path=u.path,n.query!==void 0?d.query=n.query:d.query=u.query),d.userinfo=u.userinfo,d.host=u.host,d.port=u.port),d.scheme=u.scheme),d.fragment=n.fragment,d}function _(u,n,o){return typeof u=="string"?(u=unescape(u),u=k(r(c(u,o),!0),{...o,skipEscape:!0})):typeof u=="object"&&(u=k(r(u,!0),{...o,skipEscape:!0})),typeof n=="string"?(n=unescape(n),n=k(r(c(n,o),!0),{...o,skipEscape:!0})):typeof n=="object"&&(n=k(r(n,!0),{...o,skipEscape:!0})),u.toLowerCase()===n.toLowerCase()}function k(u,n){let o={host:u.host,scheme:u.scheme,userinfo:u.userinfo,port:u.port,path:u.path,query:u.query,nid:u.nid,nss:u.nss,uuid:u.uuid,fragment:u.fragment,reference:u.reference,resourceName:u.resourceName,secure:u.secure,error:""},p=Object.assign({},n),d=[],g=v[(p.scheme||o.scheme||"").toLowerCase()];g&&g.serialize&&g.serialize(o,p),o.path!==void 0&&(p.skipEscape?o.path=unescape(o.path):(o.path=escape(o.path),o.scheme!==void 0&&(o.path=o.path.split("%3A").join(":")))),p.reference!=="suffix"&&o.scheme&&d.push(o.scheme,":");let b=y(o,p);if(b!==void 0&&(p.reference!=="suffix"&&d.push("//"),d.push(b),o.path&&o.path.charAt(0)!=="/"&&d.push("/")),o.path!==void 0){let C=o.path;!p.absolutePath&&(!g||!g.absolutePath)&&(C=l(C)),b===void 0&&(C=C.replace(/^\/\//u,"/%2F")),d.push(C)}return o.query!==void 0&&d.push("?",o.query),o.fragment!==void 0&&d.push("#",o.fragment),d.join("")}var N=Array.from({length:127},(u,n)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(n)));function O(u){let n=0;for(let o=0,p=u.length;o<p;++o)if(n=u.charCodeAt(o),n>126||N[n])return!0;return!1}var S=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function c(u,n){let o=Object.assign({},n),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},d=u.indexOf("%")!==-1,g=!1;o.reference==="suffix"&&(u=(o.scheme?o.scheme+":":"")+"//"+u);let b=u.match(S);if(b){if(p.scheme=b[1],p.userinfo=b[3],p.host=b[4],p.port=parseInt(b[5],10),p.path=b[6]||"",p.query=b[7],p.fragment=b[8],isNaN(p.port)&&(p.port=b[5]),p.host){let I=f(p.host);if(I.isIPV4===!1){let F=s(I.host,{isIPV4:!1});p.host=F.host.toLowerCase(),g=F.isIPV6}else p.host=I.host,g=!0}p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&!p.path&&p.query===void 0?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==p.reference&&(p.error=p.error||"URI is not a "+o.reference+" reference.");let C=v[(o.scheme||p.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!C||!C.unicodeSupport)&&p.host&&(o.domainHost||C&&C.domainHost)&&g===!1&&O(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(I){p.error=p.error||"Host's domain name can not be converted to ASCII: "+I}(!C||C&&!C.skipNormalize)&&(d&&p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),d&&p.host!==void 0&&(p.host=unescape(p.host)),p.path!==void 0&&p.path.length&&(p.path=escape(unescape(p.path))),p.fragment!==void 0&&p.fragment.length&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),C&&C.parse&&C.parse(p,o)}else p.error=p.error||"URI can not be parsed.";return p}var i={SCHEMES:v,normalize:a,resolve:m,resolveComponents:$,equal:_,serialize:k,parse:c};t.exports=i,t.exports.default=i,t.exports.fastUri=i}),ht=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=ft();t.code='require("ajv/dist/runtime/uri").default',e.default=t}),mt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ne();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var s=G();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});var f=xe(),l=Se(),y=Ue(),r=Te(),v=G(),a=ke(),m=Ee(),$=W(),_=lt(),k=ht(),N=(P,x)=>new RegExp(P,x);N.code="new RegExp";var O=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),c={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},i={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},u=200;function n(P){var x,A,h,E,j,D,q,Y,L,X,ce,w,R,T,z,U,H,te,se,ie,re,ee,he,oe,Oe;let pe=P.strict,Ce=(x=P.code)===null||x===void 0?void 0:x.optimize,De=Ce===!0||Ce===void 0?1:Ce||0,Me=(h=(A=P.code)===null||A===void 0?void 0:A.regExp)!==null&&h!==void 0?h:N,Ge=(E=P.uriResolver)!==null&&E!==void 0?E:k.default;return{strictSchema:(D=(j=P.strictSchema)!==null&&j!==void 0?j:pe)!==null&&D!==void 0?D:!0,strictNumbers:(Y=(q=P.strictNumbers)!==null&&q!==void 0?q:pe)!==null&&Y!==void 0?Y:!0,strictTypes:(X=(L=P.strictTypes)!==null&&L!==void 0?L:pe)!==null&&X!==void 0?X:"log",strictTuples:(w=(ce=P.strictTuples)!==null&&ce!==void 0?ce:pe)!==null&&w!==void 0?w:"log",strictRequired:(T=(R=P.strictRequired)!==null&&R!==void 0?R:pe)!==null&&T!==void 0?T:!1,code:P.code?{...P.code,optimize:De,regExp:Me}:{optimize:De,regExp:Me},loopRequired:(z=P.loopRequired)!==null&&z!==void 0?z:u,loopEnum:(U=P.loopEnum)!==null&&U!==void 0?U:u,meta:(H=P.meta)!==null&&H!==void 0?H:!0,messages:(te=P.messages)!==null&&te!==void 0?te:!0,inlineRefs:(se=P.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(ie=P.schemaId)!==null&&ie!==void 0?ie:"$id",addUsedSchema:(re=P.addUsedSchema)!==null&&re!==void 0?re:!0,validateSchema:(ee=P.validateSchema)!==null&&ee!==void 0?ee:!0,validateFormats:(he=P.validateFormats)!==null&&he!==void 0?he:!0,unicodeRegExp:(oe=P.unicodeRegExp)!==null&&oe!==void 0?oe:!0,int32range:(Oe=P.int32range)!==null&&Oe!==void 0?Oe:!0,uriResolver:Ge}}var o=class{constructor(P={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,P=this.opts={...P,...n(P)};let{es5:x,lines:A}=this.opts.code;this.scope=new v.ValueScope({scope:{},prefixes:S,es5:x,lines:A}),this.logger=V(P.logger);let h=P.validateFormats;P.validateFormats=!1,this.RULES=(0,y.getRules)(),p.call(this,c,P,"NOT SUPPORTED"),p.call(this,i,P,"DEPRECATED","warn"),this._metaOpts=I.call(this),P.formats&&b.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),P.keywords&&C.call(this,P.keywords),typeof P.meta=="object"&&this.addMetaSchema(P.meta),g.call(this),P.validateFormats=h}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:P,meta:x,schemaId:A}=this.opts,h=_;A==="id"&&(h={..._},h.id=h.$id,delete h.$id),x&&P&&this.addMetaSchema(h,h[A],!1)}defaultMeta(){let{meta:P,schemaId:x}=this.opts;return this.opts.defaultMeta=typeof P=="object"?P[x]||P:void 0}validate(P,x){let A;if(typeof P=="string"){if(A=this.getSchema(P),!A)throw new Error(`no schema with key or ref "${P}"`)}else A=this.compile(P);let h=A(x);return"$async"in A||(this.errors=A.errors),h}compile(P,x){let A=this._addSchema(P,x);return A.validate||this._compileSchemaEnv(A)}compileAsync(P,x){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:A}=this.opts;return h.call(this,P,x);async function h(L,X){await E.call(this,L.$schema);let ce=this._addSchema(L,X);return ce.validate||j.call(this,ce)}async function E(L){L&&!this.getSchema(L)&&await h.call(this,{$ref:L},!0)}async function j(L){try{return this._compileSchemaEnv(L)}catch(X){if(!(X instanceof l.default))throw X;return D.call(this,X),await q.call(this,X.missingSchema),j.call(this,L)}}function D({missingSchema:L,missingRef:X}){if(this.refs[L])throw new Error(`AnySchema ${L} is loaded but ${X} cannot be resolved`)}async function q(L){let X=await Y.call(this,L);this.refs[L]||await E.call(this,X.$schema),this.refs[L]||this.addSchema(X,L,x)}async function Y(L){let X=this._loading[L];if(X)return X;try{return await(this._loading[L]=A(L))}finally{delete this._loading[L]}}}addSchema(P,x,A,h=this.opts.validateSchema){if(Array.isArray(P)){for(let j of P)this.addSchema(j,void 0,A,h);return this}let E;if(typeof P=="object"){let{schemaId:j}=this.opts;if(E=P[j],E!==void 0&&typeof E!="string")throw new Error(`schema ${j} must be string`)}return x=(0,a.normalizeId)(x||E),this._checkUnique(x),this.schemas[x]=this._addSchema(P,A,x,h,!0),this}addMetaSchema(P,x,A=this.opts.validateSchema){return this.addSchema(P,x,!0,A),this}validateSchema(P,x){if(typeof P=="boolean")return!0;let A;if(A=P.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let h=this.validate(A,P);if(!h&&x){let E="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(E);else throw new Error(E)}return h}getSchema(P){let x;for(;typeof(x=d.call(this,P))=="string";)P=x;if(x===void 0){let{schemaId:A}=this.opts,h=new r.SchemaEnv({schema:{},schemaId:A});if(x=r.resolveSchema.call(this,h,P),!x)return;this.refs[P]=x}return x.validate||this._compileSchemaEnv(x)}removeSchema(P){if(P instanceof RegExp)return this._removeAllSchemas(this.schemas,P),this._removeAllSchemas(this.refs,P),this;switch(typeof P){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let x=d.call(this,P);return typeof x=="object"&&this._cache.delete(x.schema),delete this.schemas[P],delete this.refs[P],this}case"object":{let x=P;this._cache.delete(x);let A=P[this.opts.schemaId];return A&&(A=(0,a.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(P){for(let x of P)this.addKeyword(x);return this}addKeyword(P,x){let A;if(typeof P=="string")A=P,typeof x=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),x.keyword=A);else if(typeof P=="object"&&x===void 0){if(x=P,A=x.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(K.call(this,A,x),!x)return(0,$.eachItem)(A,E=>Q.call(this,E)),this;le.call(this,x);let h={...x,type:(0,m.getJSONTypes)(x.type),schemaType:(0,m.getJSONTypes)(x.schemaType)};return(0,$.eachItem)(A,h.type.length===0?E=>Q.call(this,E,h):E=>h.type.forEach(j=>Q.call(this,E,h,j))),this}getKeyword(P){let x=this.RULES.all[P];return typeof x=="object"?x.definition:!!x}removeKeyword(P){let{RULES:x}=this;delete x.keywords[P],delete x.all[P];for(let A of x.rules){let h=A.rules.findIndex(E=>E.keyword===P);h>=0&&A.rules.splice(h,1)}return this}addFormat(P,x){return typeof x=="string"&&(x=new RegExp(x)),this.formats[P]=x,this}errorsText(P=this.errors,{separator:x=", ",dataVar:A="data"}={}){return!P||P.length===0?"No errors":P.map(h=>`${A}${h.instancePath} ${h.message}`).reduce((h,E)=>h+x+E)}$dataMetaSchema(P,x){let A=this.RULES.all;P=JSON.parse(JSON.stringify(P));for(let h of x){let E=h.split("/").slice(1),j=P;for(let D of E)j=j[D];for(let D in A){let q=A[D];if(typeof q!="object")continue;let{$data:Y}=q.definition,L=j[D];Y&&L&&(j[D]=Z(L))}}return P}_removeAllSchemas(P,x){for(let A in P){let h=P[A];(!x||x.test(A))&&(typeof h=="string"?delete P[A]:h&&!h.meta&&(this._cache.delete(h.schema),delete P[A]))}}_addSchema(P,x,A,h=this.opts.validateSchema,E=this.opts.addUsedSchema){let j,{schemaId:D}=this.opts;if(typeof P=="object")j=P[D];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof P!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(P);if(q!==void 0)return q;A=(0,a.normalizeId)(j||A);let Y=a.getSchemaRefs.call(this,P,A);return q=new r.SchemaEnv({schema:P,schemaId:D,meta:x,baseId:A,localRefs:Y}),this._cache.set(q.schema,q),E&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=q),h&&this.validateSchema(P,!0),q}_checkUnique(P){if(this.schemas[P]||this.refs[P])throw new Error(`schema with key or id "${P}" already exists`)}_compileSchemaEnv(P){if(P.meta?this._compileMetaSchema(P):r.compileSchema.call(this,P),!P.validate)throw new Error("ajv implementation error");return P.validate}_compileMetaSchema(P){let x=this.opts;this.opts=this._metaOpts;try{r.compileSchema.call(this,P)}finally{this.opts=x}}};o.ValidationError=f.default,o.MissingRefError=l.default,e.default=o;function p(P,x,A,h="error"){for(let E in P){let j=E;j in x&&this.logger[h](`${A}: option ${E}. ${P[j]}`)}}function d(P){return P=(0,a.normalizeId)(P),this.schemas[P]||this.refs[P]}function g(){let P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(let x in P)this.addSchema(P[x],x)}function b(){for(let P in this.opts.formats){let x=this.opts.formats[P];x&&this.addFormat(P,x)}}function C(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let x in P){let A=P[x];A.keyword||(A.keyword=x),this.addKeyword(A)}}function I(){let P={...this.opts};for(let x of O)delete P[x];return P}var F={log(){},warn(){},error(){}};function V(P){if(P===!1)return F;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}var B=/^[a-z_$][a-z0-9_$:-]*$/i;function K(P,x){let{RULES:A}=this;if((0,$.eachItem)(P,h=>{if(A.keywords[h])throw new Error(`Keyword ${h} is already defined`);if(!B.test(h))throw new Error(`Keyword ${h} has invalid name`)}),!!x&&x.$data&&!("code"in x||"validate"in x))throw new Error('$data keyword must have "code" or "validate" function')}function Q(P,x,A){var h;let E=x?.post;if(A&&E)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:j}=this,D=E?j.post:j.rules.find(({type:Y})=>Y===A);if(D||(D={type:A,rules:[]},j.rules.push(D)),j.keywords[P]=!0,!x)return;let q={keyword:P,definition:{...x,type:(0,m.getJSONTypes)(x.type),schemaType:(0,m.getJSONTypes)(x.schemaType)}};x.before?ae.call(this,D,q,x.before):D.rules.push(q),j.all[P]=q,(h=x.implements)===null||h===void 0||h.forEach(Y=>this.addKeyword(Y))}function ae(P,x,A){let h=P.rules.findIndex(E=>E.keyword===A);h>=0?P.rules.splice(h,0,x):(P.rules.push(x),this.logger.warn(`rule ${A} is not defined`))}function le(P){let{metaSchema:x}=P;x!==void 0&&(P.$data&&this.opts.$data&&(x=Z(x)),P.validateSchema=this.compile(x,!0))}var ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Z(P){return{anyOf:[P,ue]}}}),pt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}),yt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=Se(),s=ne(),f=G(),l=de(),y=Te(),r=W(),v={keyword:"$ref",schemaType:"string",code($){let{gen:_,schema:k,it:N}=$,{baseId:O,schemaEnv:S,validateName:c,opts:i,self:u}=N,{root:n}=S;if((k==="#"||k==="#/")&&O===n.baseId)return p();let o=y.resolveRef.call(u,n,O,k);if(o===void 0)throw new t.default(N.opts.uriResolver,O,k);if(o instanceof y.SchemaEnv)return d(o);return g(o);function p(){if(S===n)return m($,c,S,S.$async);let b=_.scopeValue("root",{ref:n});return m($,(0,f._)`${b}.validate`,n,n.$async)}function d(b){let C=a($,b);m($,C,b,b.$async)}function g(b){let C=_.scopeValue("schema",i.code.source===!0?{ref:b,code:(0,f.stringify)(b)}:{ref:b}),I=_.name("valid"),F=$.subschema({schema:b,dataTypes:[],schemaPath:f.nil,topSchemaRef:C,errSchemaPath:k},I);$.mergeEvaluated(F),$.ok(I)}}};function a($,_){let{gen:k}=$;return _.validate?k.scopeValue("validate",{ref:_.validate}):(0,f._)`${k.scopeValue("wrapper",{ref:_})}.validate`}e.getValidate=a;function m($,_,k,N){let{gen:O,it:S}=$,{allErrors:c,schemaEnv:i,opts:u}=S,n=u.passContext?l.default.this:f.nil;N?o():p();function o(){if(!i.$async)throw new Error("async schema referenced by sync schema");let b=O.let("valid");O.try(()=>{O.code((0,f._)`await ${(0,s.callValidateCode)($,_,n)}`),g(_),c||O.assign(b,!0)},C=>{O.if((0,f._)`!(${C} instanceof ${S.ValidationError})`,()=>O.throw(C)),d(C),c||O.assign(b,!1)}),$.ok(b)}function p(){$.result((0,s.callValidateCode)($,_,n),()=>g(_),()=>d(_))}function d(b){let C=(0,f._)`${b}.errors`;O.assign(l.default.vErrors,(0,f._)`${l.default.vErrors} === null ? ${C} : ${l.default.vErrors}.concat(${C})`),O.assign(l.default.errors,(0,f._)`${l.default.vErrors}.length`)}function g(b){var C;if(!S.opts.unevaluated)return;let I=(C=k?.validate)===null||C===void 0?void 0:C.evaluated;if(S.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(S.props=r.mergeEvaluated.props(O,I.props,S.props));else{let F=O.var("props",(0,f._)`${b}.evaluated.props`);S.props=r.mergeEvaluated.props(O,F,S.props,f.Name)}if(S.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(S.items=r.mergeEvaluated.items(O,I.items,S.items));else{let F=O.var("items",(0,f._)`${b}.evaluated.items`);S.items=r.mergeEvaluated.items(O,F,S.items,f.Name)}}}e.callRef=m,e.default=v}),vt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=pt(),s=yt(),f=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,s.default];e.default=f}),gt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=t.operators,f={maximum:{okStr:"<=",ok:s.LTE,fail:s.GT},minimum:{okStr:">=",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},l={message:({keyword:r,schemaCode:v})=>(0,t.str)`must be ${f[r].okStr} ${v}`,params:({keyword:r,schemaCode:v})=>(0,t._)`{comparison: ${f[r].okStr}, limit: ${v}}`},y={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:l,code(r){let{keyword:v,data:a,schemaCode:m}=r;r.fail$data((0,t._)`${a} ${f[v].fail} ${m} || isNaN(${a})`)}};e.default=y}),$t=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s={message:({schemaCode:l})=>(0,t.str)`must be multiple of ${l}`,params:({schemaCode:l})=>(0,t._)`{multipleOf: ${l}}`},f={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:s,code(l){let{gen:y,data:r,schemaCode:v,it:a}=l,m=a.opts.multipleOfPrecision,$=y.let("res"),_=m?(0,t._)`Math.abs(Math.round(${$}) - ${$}) > 1e-${m}`:(0,t._)`${$} !== parseInt(${$})`;l.fail$data((0,t._)`(${v} === 0 || (${$} = ${r}/${v}, ${_}))`)}};e.default=f}),wt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(s){let f=s.length,l=0,y=0,r;for(;y<f;)l++,r=s.charCodeAt(y++),r>=55296&&r<=56319&&y<f&&(r=s.charCodeAt(y),(r&64512)===56320&&y++);return l}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}),_t=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f=wt(),l={message({keyword:r,schemaCode:v}){let a=r==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${v} characters`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},y={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:l,code(r){let{keyword:v,data:a,schemaCode:m,it:$}=r,_=v==="maxLength"?t.operators.GT:t.operators.LT,k=$.opts.unicode===!1?(0,t._)`${a}.length`:(0,t._)`${(0,s.useFunc)(r.gen,f.default)}(${a})`;r.fail$data((0,t._)`${k} ${_} ${m}`)}};e.default=y}),bt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=ne(),s=G(),f={message:({schemaCode:y})=>(0,s.str)`must match pattern "${y}"`,params:({schemaCode:y})=>(0,s._)`{pattern: ${y}}`},l={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:f,code(y){let{data:r,$data:v,schema:a,schemaCode:m,it:$}=y,_=$.opts.unicodeRegExp?"u":"",k=v?(0,s._)`(new RegExp(${m}, ${_}))`:(0,t.usePattern)(y,a);y.fail$data((0,s._)`!${k}.test(${r})`)}};e.default=l}),Et=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s={message({keyword:l,schemaCode:y}){let r=l==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${r} than ${y} properties`},params:({schemaCode:l})=>(0,t._)`{limit: ${l}}`},f={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:s,code(l){let{keyword:y,data:r,schemaCode:v}=l,a=y==="maxProperties"?t.operators.GT:t.operators.LT;l.fail$data((0,t._)`Object.keys(${r}).length ${a} ${v}`)}};e.default=f}),Pt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=ne(),s=G(),f=W(),l={message:({params:{missingProperty:r}})=>(0,s.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,s._)`{missingProperty: ${r}}`},y={keyword:"required",type:"object",schemaType:"array",$data:!0,error:l,code(r){let{gen:v,schema:a,schemaCode:m,data:$,$data:_,it:k}=r,{opts:N}=k;if(!_&&a.length===0)return;let O=a.length>=N.loopRequired;if(k.allErrors?S():c(),N.strictRequired){let n=r.parentSchema.properties,{definedProperties:o}=r.it;for(let p of a)if(n?.[p]===void 0&&!o.has(p)){let d=k.schemaEnv.baseId+k.errSchemaPath,g=`required property "${p}" is not defined at "${d}" (strictRequired)`;(0,f.checkStrictMode)(k,g,k.opts.strictRequired)}}function S(){if(O||_)r.block$data(s.nil,i);else for(let n of a)(0,t.checkReportMissingProp)(r,n)}function c(){let n=v.let("missing");if(O||_){let o=v.let("valid",!0);r.block$data(o,()=>u(n,o)),r.ok(o)}else v.if((0,t.checkMissingProp)(r,a,n)),(0,t.reportMissingProp)(r,n),v.else()}function i(){v.forOf("prop",m,n=>{r.setParams({missingProperty:n}),v.if((0,t.noPropertyInData)(v,$,n,N.ownProperties),()=>r.error())})}function u(n,o){r.setParams({missingProperty:n}),v.forOf(n,m,()=>{v.assign(o,(0,t.propertyInData)(v,$,n,N.ownProperties)),v.if((0,s.not)(o),()=>{r.error(),v.break()})},s.nil)}}};e.default=y}),kt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s={message({keyword:l,schemaCode:y}){let r=l==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${r} than ${y} items`},params:({schemaCode:l})=>(0,t._)`{limit: ${l}}`},f={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:s,code(l){let{keyword:y,data:r,schemaCode:v}=l,a=y==="maxItems"?t.operators.GT:t.operators.LT;l.fail$data((0,t._)`${r}.length ${a} ${v}`)}};e.default=f}),Ie=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Le();t.code='require("ajv/dist/runtime/equal").default',e.default=t}),Nt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ee(),s=G(),f=W(),l=Ie(),y={message:({params:{i:v,j:a}})=>(0,s.str)`must NOT have duplicate items (items ## ${a} and ${v} are identical)`,params:({params:{i:v,j:a}})=>(0,s._)`{i: ${v}, j: ${a}}`},r={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:y,code(v){let{gen:a,data:m,$data:$,schema:_,parentSchema:k,schemaCode:N,it:O}=v;if(!$&&!_)return;let S=a.let("valid"),c=k.items?(0,t.getSchemaTypes)(k.items):[];v.block$data(S,i,(0,s._)`${N} === false`),v.ok(S);function i(){let p=a.let("i",(0,s._)`${m}.length`),d=a.let("j");v.setParams({i:p,j:d}),a.assign(S,!0),a.if((0,s._)`${p} > 1`,()=>(u()?n:o)(p,d))}function u(){return c.length>0&&!c.some(p=>p==="object"||p==="array")}function n(p,d){let g=a.name("item"),b=(0,t.checkDataTypes)(c,g,O.opts.strictNumbers,t.DataType.Wrong),C=a.const("indices",(0,s._)`{}`);a.for((0,s._)`;${p}--;`,()=>{a.let(g,(0,s._)`${m}[${p}]`),a.if(b,(0,s._)`continue`),c.length>1&&a.if((0,s._)`typeof ${g} == "string"`,(0,s._)`${g} += "_"`),a.if((0,s._)`typeof ${C}[${g}] == "number"`,()=>{a.assign(d,(0,s._)`${C}[${g}]`),v.error(),a.assign(S,!1).break()}).code((0,s._)`${C}[${g}] = ${p}`)})}function o(p,d){let g=(0,f.useFunc)(a,l.default),b=a.name("outer");a.label(b).for((0,s._)`;${p}--;`,()=>a.for((0,s._)`${d} = ${p}; ${d}--;`,()=>a.if((0,s._)`${g}(${m}[${p}], ${m}[${d}])`,()=>{v.error(),a.assign(S,!1).break(b)})))}}};e.default=r}),St=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f=Ie(),l={message:"must be equal to constant",params:({schemaCode:r})=>(0,t._)`{allowedValue: ${r}}`},y={keyword:"const",$data:!0,error:l,code(r){let{gen:v,data:a,$data:m,schemaCode:$,schema:_}=r;m||_&&typeof _=="object"?r.fail$data((0,t._)`!${(0,s.useFunc)(v,f.default)}(${a}, ${$})`):r.fail((0,t._)`${_} !== ${a}`)}};e.default=y}),Ot=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f=Ie(),l={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,t._)`{allowedValues: ${r}}`},y={keyword:"enum",schemaType:"array",$data:!0,error:l,code(r){let{gen:v,data:a,$data:m,schema:$,schemaCode:_,it:k}=r;if(!m&&$.length===0)throw new Error("enum must have non-empty array");let N=$.length>=k.opts.loopEnum,O,S=()=>O??(O=(0,s.useFunc)(v,f.default)),c;if(N||m)c=v.let("valid"),r.block$data(c,i);else{if(!Array.isArray($))throw new Error("ajv implementation error");let n=v.const("vSchema",_);c=(0,t.or)(...$.map((o,p)=>u(n,p)))}r.pass(c);function i(){v.assign(c,!1),v.forOf("v",_,n=>v.if((0,t._)`${S()}(${a}, ${n})`,()=>v.assign(c,!0).break()))}function u(n,o){let p=$[o];return typeof p=="object"&&p!==null?(0,t._)`${S()}(${a}, ${n}[${o}])`:(0,t._)`${a} === ${p}`}}};e.default=y}),Ct=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=gt(),s=$t(),f=_t(),l=bt(),y=Et(),r=Pt(),v=kt(),a=Nt(),m=St(),$=Ot(),_=[t.default,s.default,f.default,l.default,y.default,r.default,v.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},m.default,$.default];e.default=_}),Be=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=G(),s=W(),f={message:({params:{len:r}})=>(0,t.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,t._)`{limit: ${r}}`},l={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:f,code(r){let{parentSchema:v,it:a}=r,{items:m}=v;if(!Array.isArray(m)){(0,s.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}y(r,m)}};function y(r,v){let{gen:a,schema:m,data:$,keyword:_,it:k}=r;k.items=!0;let N=a.const("len",(0,t._)`${$}.length`);if(m===!1)r.setParams({len:v.length}),r.pass((0,t._)`${N} <= ${v.length}`);else if(typeof m=="object"&&!(0,s.alwaysValidSchema)(k,m)){let S=a.var("valid",(0,t._)`${N} <= ${v.length}`);a.if((0,t.not)(S),()=>O(S)),r.ok(S)}function O(S){a.forRange("i",v.length,N,c=>{r.subschema({keyword:_,dataProp:c,dataPropType:s.Type.Num},S),k.allErrors||a.if((0,t.not)(S),()=>a.break())})}}e.validateAdditionalItems=y,e.default=l}),Ke=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=G(),s=W(),f=ne(),l={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:v,it:a}=r;if(Array.isArray(v))return y(r,"additionalItems",v);a.items=!0,!(0,s.alwaysValidSchema)(a,v)&&r.ok((0,f.validateArray)(r))}};function y(r,v,a=r.schema){let{gen:m,parentSchema:$,data:_,keyword:k,it:N}=r;c($),N.opts.unevaluated&&a.length&&N.items!==!0&&(N.items=s.mergeEvaluated.items(m,a.length,N.items));let O=m.name("valid"),S=m.const("len",(0,t._)`${_}.length`);a.forEach((i,u)=>{(0,s.alwaysValidSchema)(N,i)||(m.if((0,t._)`${S} > ${u}`,()=>r.subschema({keyword:k,schemaProp:u,dataProp:u},O)),r.ok(O))});function c(i){let{opts:u,errSchemaPath:n}=N,o=a.length,p=o===i.minItems&&(o===i.maxItems||i[v]===!1);if(u.strictTuples&&!p){let d=`"${k}" is ${o}-tuple, but minItems or maxItems/${v} are not specified or different at path "${n}"`;(0,s.checkStrictMode)(N,d,u.strictTuples)}}}e.validateTuple=y,e.default=l}),jt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ke(),s={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:f=>(0,t.validateTuple)(f,"items")};e.default=s}),Rt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f=ne(),l=Be(),y={message:({params:{len:v}})=>(0,t.str)`must NOT have more than ${v} items`,params:({params:{len:v}})=>(0,t._)`{limit: ${v}}`},r={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:y,code(v){let{schema:a,parentSchema:m,it:$}=v,{prefixItems:_}=m;$.items=!0,!(0,s.alwaysValidSchema)($,a)&&(_?(0,l.validateAdditionalItems)(v,_):v.ok((0,f.validateArray)(v)))}};e.default=r}),xt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f={message:({params:{min:y,max:r}})=>r===void 0?(0,t.str)`must contain at least ${y} valid item(s)`:(0,t.str)`must contain at least ${y} and no more than ${r} valid item(s)`,params:({params:{min:y,max:r}})=>r===void 0?(0,t._)`{minContains: ${y}}`:(0,t._)`{minContains: ${y}, maxContains: ${r}}`},l={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:f,code(y){let{gen:r,schema:v,parentSchema:a,data:m,it:$}=y,_,k,{minContains:N,maxContains:O}=a;$.opts.next?(_=N===void 0?1:N,k=O):_=1;let S=r.const("len",(0,t._)`${m}.length`);if(y.setParams({min:_,max:k}),k===void 0&&_===0){(0,s.checkStrictMode)($,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(k!==void 0&&_>k){(0,s.checkStrictMode)($,'"minContains" > "maxContains" is always invalid'),y.fail();return}if((0,s.alwaysValidSchema)($,v)){let o=(0,t._)`${S} >= ${_}`;k!==void 0&&(o=(0,t._)`${o} && ${S} <= ${k}`),y.pass(o);return}$.items=!0;let c=r.name("valid");k===void 0&&_===1?u(c,()=>r.if(c,()=>r.break())):_===0?(r.let(c,!0),k!==void 0&&r.if((0,t._)`${m}.length > 0`,i)):(r.let(c,!1),i()),y.result(c,()=>y.reset());function i(){let o=r.name("_valid"),p=r.let("count",0);u(o,()=>r.if(o,()=>n(p)))}function u(o,p){r.forRange("i",0,S,d=>{y.subschema({keyword:"contains",dataProp:d,dataPropType:s.Type.Num,compositeRule:!0},o),p()})}function n(o){r.code((0,t._)`${o}++`),k===void 0?r.if((0,t._)`${o} >= ${_}`,()=>r.assign(c,!0).break()):(r.if((0,t._)`${o} > ${k}`,()=>r.assign(c,!1).break()),_===1?r.assign(c,!0):r.if((0,t._)`${o} >= ${_}`,()=>r.assign(c,!0)))}}};e.default=l}),Tt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=G(),s=W(),f=ne();e.error={message:({params:{property:a,depsCount:m,deps:$}})=>{let _=m===1?"property":"properties";return(0,t.str)`must have ${_} ${$} when property ${a} is present`},params:({params:{property:a,depsCount:m,deps:$,missingProperty:_}})=>(0,t._)`{property: ${a},
    missingProperty: ${_},
    depsCount: ${m},
    deps: ${$}}`};var l={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(a){let[m,$]=y(a);r(a,m),v(a,$)}};function y({schema:a}){let m={},$={};for(let _ in a){if(_==="__proto__")continue;let k=Array.isArray(a[_])?m:$;k[_]=a[_]}return[m,$]}function r(a,m=a.schema){let{gen:$,data:_,it:k}=a;if(Object.keys(m).length===0)return;let N=$.let("missing");for(let O in m){let S=m[O];if(S.length===0)continue;let c=(0,f.propertyInData)($,_,O,k.opts.ownProperties);a.setParams({property:O,depsCount:S.length,deps:S.join(", ")}),k.allErrors?$.if(c,()=>{for(let i of S)(0,f.checkReportMissingProp)(a,i)}):($.if((0,t._)`${c} && (${(0,f.checkMissingProp)(a,S,N)})`),(0,f.reportMissingProp)(a,N),$.else())}}e.validatePropertyDeps=r;function v(a,m=a.schema){let{gen:$,data:_,keyword:k,it:N}=a,O=$.name("valid");for(let S in m)(0,s.alwaysValidSchema)(N,m[S])||($.if((0,f.propertyInData)($,_,S,N.opts.ownProperties),()=>{let c=a.subschema({keyword:k,schemaProp:S},O);a.mergeValidEvaluated(c,O)},()=>$.var(O,!0)),a.ok(O))}e.validateSchemaDeps=v,e.default=l}),It=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f={message:"property name must be valid",params:({params:y})=>(0,t._)`{propertyName: ${y.propertyName}}`},l={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:f,code(y){let{gen:r,schema:v,data:a,it:m}=y;if((0,s.alwaysValidSchema)(m,v))return;let $=r.name("valid");r.forIn("key",a,_=>{y.setParams({propertyName:_}),y.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},$),r.if((0,t.not)($),()=>{y.error(!0),m.allErrors||r.break()})}),y.ok($)}};e.default=l}),He=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=ne(),s=G(),f=de(),l=W(),y={message:"must NOT have additional properties",params:({params:v})=>(0,s._)`{additionalProperty: ${v.additionalProperty}}`},r={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:y,code(v){let{gen:a,schema:m,parentSchema:$,data:_,errsCount:k,it:N}=v;if(!k)throw new Error("ajv implementation error");let{allErrors:O,opts:S}=N;if(N.props=!0,S.removeAdditional!=="all"&&(0,l.alwaysValidSchema)(N,m))return;let c=(0,t.allSchemaProperties)($.properties),i=(0,t.allSchemaProperties)($.patternProperties);u(),v.ok((0,s._)`${k} === ${f.default.errors}`);function u(){a.forIn("key",_,g=>{!c.length&&!i.length?p(g):a.if(n(g),()=>p(g))})}function n(g){let b;if(c.length>8){let C=(0,l.schemaRefOrVal)(N,$.properties,"properties");b=(0,t.isOwnProperty)(a,C,g)}else c.length?b=(0,s.or)(...c.map(C=>(0,s._)`${g} === ${C}`)):b=s.nil;return i.length&&(b=(0,s.or)(b,...i.map(C=>(0,s._)`${(0,t.usePattern)(v,C)}.test(${g})`))),(0,s.not)(b)}function o(g){a.code((0,s._)`delete ${_}[${g}]`)}function p(g){if(S.removeAdditional==="all"||S.removeAdditional&&m===!1){o(g);return}if(m===!1){v.setParams({additionalProperty:g}),v.error(),O||a.break();return}if(typeof m=="object"&&!(0,l.alwaysValidSchema)(N,m)){let b=a.name("valid");S.removeAdditional==="failing"?(d(g,b,!1),a.if((0,s.not)(b),()=>{v.reset(),o(g)})):(d(g,b),O||a.if((0,s.not)(b),()=>a.break()))}}function d(g,b,C){let I={keyword:"additionalProperties",dataProp:g,dataPropType:l.Type.Str};C===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),v.subschema(I,b)}}};e.default=r}),At=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ne(),s=ne(),f=W(),l=He(),y={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:v,schema:a,parentSchema:m,data:$,it:_}=r;_.opts.removeAdditional==="all"&&m.additionalProperties===void 0&&l.default.code(new t.KeywordCxt(_,l.default,"additionalProperties"));let k=(0,s.allSchemaProperties)(a);for(let i of k)_.definedProperties.add(i);_.opts.unevaluated&&k.length&&_.props!==!0&&(_.props=f.mergeEvaluated.props(v,(0,f.toHash)(k),_.props));let N=k.filter(i=>!(0,f.alwaysValidSchema)(_,a[i]));if(N.length===0)return;let O=v.name("valid");for(let i of N)S(i)?c(i):(v.if((0,s.propertyInData)(v,$,i,_.opts.ownProperties)),c(i),_.allErrors||v.else().var(O,!0),v.endIf()),r.it.definedProperties.add(i),r.ok(O);function S(i){return _.opts.useDefaults&&!_.compositeRule&&a[i].default!==void 0}function c(i){r.subschema({keyword:"properties",schemaProp:i,dataProp:i},O)}}};e.default=y}),Dt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=ne(),s=G(),f=W(),l=W(),y={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:v,schema:a,data:m,parentSchema:$,it:_}=r,{opts:k}=_,N=(0,t.allSchemaProperties)(a),O=N.filter(p=>(0,f.alwaysValidSchema)(_,a[p]));if(N.length===0||O.length===N.length&&(!_.opts.unevaluated||_.props===!0))return;let S=k.strictSchema&&!k.allowMatchingProperties&&$.properties,c=v.name("valid");_.props!==!0&&!(_.props instanceof s.Name)&&(_.props=(0,l.evaluatedPropsToName)(v,_.props));let{props:i}=_;u();function u(){for(let p of N)S&&n(p),_.allErrors?o(p):(v.var(c,!0),o(p),v.if(c))}function n(p){for(let d in S)new RegExp(p).test(d)&&(0,f.checkStrictMode)(_,`property ${d} matches pattern ${p} (use allowMatchingProperties)`)}function o(p){v.forIn("key",m,d=>{v.if((0,s._)`${(0,t.usePattern)(r,p)}.test(${d})`,()=>{let g=O.includes(p);g||r.subschema({keyword:"patternProperties",schemaProp:p,dataProp:d,dataPropType:l.Type.Str},c),_.opts.unevaluated&&i!==!0?v.assign((0,s._)`${i}[${d}]`,!0):!g&&!_.allErrors&&v.if((0,s.not)(c),()=>v.break())})})}}};e.default=y}),Mt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=W(),s={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(f){let{gen:l,schema:y,it:r}=f;if((0,t.alwaysValidSchema)(r,y)){f.fail();return}let v=l.name("valid");f.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},v),f.failResult(v,()=>f.reset(),()=>f.error())},error:{message:"must NOT be valid"}};e.default=s}),Ft=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=ne(),s={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=s}),Vt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f={message:"must match exactly one schema in oneOf",params:({params:y})=>(0,t._)`{passingSchemas: ${y.passing}}`},l={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:f,code(y){let{gen:r,schema:v,parentSchema:a,it:m}=y;if(!Array.isArray(v))throw new Error("ajv implementation error");if(m.opts.discriminator&&a.discriminator)return;let $=v,_=r.let("valid",!1),k=r.let("passing",null),N=r.name("_valid");y.setParams({passing:k}),r.block(O),y.result(_,()=>y.reset(),()=>y.error(!0));function O(){$.forEach((S,c)=>{let i;(0,s.alwaysValidSchema)(m,S)?r.var(N,!0):i=y.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},N),c>0&&r.if((0,t._)`${N} && ${_}`).assign(_,!1).assign(k,(0,t._)`[${k}, ${c}]`).else(),r.if(N,()=>{r.assign(_,!0),r.assign(k,c),i&&y.mergeEvaluated(i,t.Name)})})}}};e.default=l}),zt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=W(),s={keyword:"allOf",schemaType:"array",code(f){let{gen:l,schema:y,it:r}=f;if(!Array.isArray(y))throw new Error("ajv implementation error");let v=l.name("valid");y.forEach((a,m)=>{if((0,t.alwaysValidSchema)(r,a))return;let $=f.subschema({keyword:"allOf",schemaProp:m},v);f.ok(v),f.mergeEvaluated($)})}};e.default=s}),Ut=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=W(),f={message:({params:r})=>(0,t.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,t._)`{failingKeyword: ${r.ifClause}}`},l={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:f,code(r){let{gen:v,parentSchema:a,it:m}=r;a.then===void 0&&a.else===void 0&&(0,s.checkStrictMode)(m,'"if" without "then" and "else" is ignored');let $=y(m,"then"),_=y(m,"else");if(!$&&!_)return;let k=v.let("valid",!0),N=v.name("_valid");if(O(),r.reset(),$&&_){let c=v.let("ifClause");r.setParams({ifClause:c}),v.if(N,S("then",c),S("else",c))}else $?v.if(N,S("then")):v.if((0,t.not)(N),S("else"));r.pass(k,()=>r.error(!0));function O(){let c=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},N);r.mergeEvaluated(c)}function S(c,i){return()=>{let u=r.subschema({keyword:c},N);v.assign(k,N),r.mergeValidEvaluated(u,k),i?v.assign(i,(0,t._)`${c}`):r.setParams({ifClause:c})}}}};function y(r,v){let a=r.schema[v];return a!==void 0&&!(0,s.alwaysValidSchema)(r,a)}e.default=l}),qt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=W(),s={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:f,parentSchema:l,it:y}){l.if===void 0&&(0,t.checkStrictMode)(y,`"${f}" without "if" is ignored`)}};e.default=s}),Lt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Be(),s=jt(),f=Ke(),l=Rt(),y=xt(),r=Tt(),v=It(),a=He(),m=At(),$=Dt(),_=Mt(),k=Ft(),N=Vt(),O=zt(),S=Ut(),c=qt();function i(u=!1){let n=[_.default,k.default,N.default,O.default,S.default,c.default,v.default,a.default,r.default,m.default,$.default];return u?n.push(s.default,l.default):n.push(t.default,f.default),n.push(y.default),n}e.default=i}),Bt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s={message:({schemaCode:l})=>(0,t.str)`must match format "${l}"`,params:({schemaCode:l})=>(0,t._)`{format: ${l}}`},f={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:s,code(l,y){let{gen:r,data:v,$data:a,schema:m,schemaCode:$,it:_}=l,{opts:k,errSchemaPath:N,schemaEnv:O,self:S}=_;if(!k.validateFormats)return;a?c():i();function c(){let u=r.scopeValue("formats",{ref:S.formats,code:k.code.formats}),n=r.const("fDef",(0,t._)`${u}[${$}]`),o=r.let("fType"),p=r.let("format");r.if((0,t._)`typeof ${n} == "object" && !(${n} instanceof RegExp)`,()=>r.assign(o,(0,t._)`${n}.type || "string"`).assign(p,(0,t._)`${n}.validate`),()=>r.assign(o,(0,t._)`"string"`).assign(p,n)),l.fail$data((0,t.or)(d(),g()));function d(){return k.strictSchema===!1?t.nil:(0,t._)`${$} && !${p}`}function g(){let b=O.$async?(0,t._)`(${n}.async ? await ${p}(${v}) : ${p}(${v}))`:(0,t._)`${p}(${v})`,C=(0,t._)`(typeof ${p} == "function" ? ${b} : ${p}.test(${v}))`;return(0,t._)`${p} && ${p} !== true && ${o} === ${y} && !${C}`}}function i(){let u=S.formats[m];if(!u){d();return}if(u===!0)return;let[n,o,p]=g(u);n===y&&l.pass(b());function d(){if(k.strictSchema===!1){S.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${m}" ignored in schema at path "${N}"`}}function g(C){let I=C instanceof RegExp?(0,t.regexpCode)(C):k.code.formats?(0,t._)`${k.code.formats}${(0,t.getProperty)(m)}`:void 0,F=r.scopeValue("formats",{key:m,ref:C,code:I});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,(0,t._)`${F}.validate`]:["string",C,F]}function b(){if(typeof u=="object"&&!(u instanceof RegExp)&&u.async){if(!O.$async)throw new Error("async format in sync schema");return(0,t._)`await ${p}(${v})`}return typeof o=="function"?(0,t._)`${p}(${v})`:(0,t._)`${p}.test(${v})`}}}};e.default=f}),Kt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Bt(),s=[t.default];e.default=s}),Ht=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),Gt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=vt(),s=Ct(),f=Lt(),l=Kt(),y=Ht(),r=[t.default,s.default,(0,f.default)(),l.default,y.metadataVocabulary,y.contentVocabulary];e.default=r}),Yt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(s){s.Tag="tag",s.Mapping="mapping"})(t||(e.DiscrError=t={}))}),Jt=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=G(),s=Yt(),f=Te(),l=Se(),y=W(),r={message:({params:{discrError:a,tagName:m}})=>a===s.DiscrError.Tag?`tag "${m}" must be string`:`value of tag "${m}" must be in oneOf`,params:({params:{discrError:a,tag:m,tagName:$}})=>(0,t._)`{error: ${a}, tag: ${$}, tagValue: ${m}}`},v={keyword:"discriminator",type:"object",schemaType:"object",error:r,code(a){let{gen:m,data:$,schema:_,parentSchema:k,it:N}=a,{oneOf:O}=k;if(!N.opts.discriminator)throw new Error("discriminator: requires discriminator option");let S=_.propertyName;if(typeof S!="string")throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!O)throw new Error("discriminator: requires oneOf keyword");let c=m.let("valid",!1),i=m.const("tag",(0,t._)`${$}${(0,t.getProperty)(S)}`);m.if((0,t._)`typeof ${i} == "string"`,()=>u(),()=>a.error(!1,{discrError:s.DiscrError.Tag,tag:i,tagName:S})),a.ok(c);function u(){let p=o();m.if(!1);for(let d in p)m.elseIf((0,t._)`${i} === ${d}`),m.assign(c,n(p[d]));m.else(),a.error(!1,{discrError:s.DiscrError.Mapping,tag:i,tagName:S}),m.endIf()}function n(p){let d=m.name("valid"),g=a.subschema({keyword:"oneOf",schemaProp:p},d);return a.mergeEvaluated(g,t.Name),d}function o(){var p;let d={},g=C(k),b=!0;for(let V=0;V<O.length;V++){let B=O[V];if(B?.$ref&&!(0,y.schemaHasRulesButRef)(B,N.self.RULES)){let Q=B.$ref;if(B=f.resolveRef.call(N.self,N.schemaEnv.root,N.baseId,Q),B instanceof f.SchemaEnv&&(B=B.schema),B===void 0)throw new l.default(N.opts.uriResolver,N.baseId,Q)}let K=(p=B?.properties)===null||p===void 0?void 0:p[S];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${S}"`);b=b&&(g||C(B)),I(K,V)}if(!b)throw new Error(`discriminator: "${S}" must be required`);return d;function C({required:V}){return Array.isArray(V)&&V.includes(S)}function I(V,B){if(V.const)F(V.const,B);else if(V.enum)for(let K of V.enum)F(K,B);else throw new Error(`discriminator: "properties/${S}" must have "const" or "enum"`)}function F(V,B){if(typeof V!="string"||V in d)throw new Error(`discriminator: "${S}" values must be unique strings`);d[V]=B}}}};e.default=v}),Wt=M((e,t)=>{t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),Qt=M((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var s=mt(),f=Gt(),l=Jt(),y=Wt(),r=["/properties"],v="http://json-schema.org/draft-07/schema",a=class extends s.default{_addVocabularies(){super._addVocabularies(),f.default.forEach(N=>this.addVocabulary(N)),this.opts.discriminator&&this.addKeyword(l.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let N=this.opts.$data?this.$dataMetaSchema(y,r):y;this.addMetaSchema(N,v,!1),this.refs["http://json-schema.org/schema"]=v}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(v)?v:void 0)}};e.Ajv=a,t.exports=e=a,t.exports.Ajv=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var m=Ne();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return m.KeywordCxt}});var $=G();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return $._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return $.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return $.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return $.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return $.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return $.CodeGen}});var _=xe();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return _.default}});var k=Se();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return k.default}})}),Zt=M((e,t)=>{"use strict";t.exports=function(s){if(s&&s.length)for(let y of s){let r;switch(y.keyword){case"additionalItems":case"items":r="";var l=y.params.limit;r+="\u4E0D\u5141\u8BB8\u8D85\u8FC7"+l+"\u4E2A\u5143\u7D20";break;case"additionalProperties":r="\u4E0D\u5141\u8BB8\u6709\u989D\u5916\u7684\u5C5E\u6027";break;case"anyOf":r="\u6570\u636E\u5E94\u4E3A anyOf \u6240\u6307\u5B9A\u7684\u5176\u4E2D\u4E00\u4E2A";break;case"const":r="\u5E94\u5F53\u7B49\u4E8E\u5E38\u91CF";break;case"contains":r="\u5E94\u5F53\u5305\u542B\u4E00\u4E2A\u6709\u6548\u9879";break;case"dependencies":case"dependentRequired":r="";var l=y.params.depsCount;r+="\u5E94\u5F53\u62E5\u6709\u5C5E\u6027"+y.params.property+"\u7684\u4F9D\u8D56\u5C5E\u6027"+y.params.deps;break;case"discriminator":switch(y.params.error){case"tag":r='\u6807\u7B7E "'+y.params.tag+'" \u7684\u7C7B\u578B\u5FC5\u987B\u4E3A\u5B57\u7B26\u4E32';break;case"mapping":r='\u6807\u7B7E "'+y.params.tag+'" \u7684\u503C\u5FC5\u987B\u5728 oneOf \u4E4B\u4E2D';break;default:r='\u5E94\u5F53\u901A\u8FC7 "'+y.keyword+' \u5173\u952E\u8BCD\u6821\u9A8C"'}break;case"enum":r="\u5E94\u5F53\u662F\u9884\u8BBE\u5B9A\u7684\u679A\u4E3E\u503C\u4E4B\u4E00";break;case"false schema":r="\u5E03\u5C14\u6A21\u5F0F\u51FA\u9519";break;case"format":r='\u5E94\u5F53\u5339\u914D\u683C\u5F0F "'+y.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":r="";var f=y.params.comparison+" "+y.params.limit;r+="\u5E94\u5F53\u662F "+f;break;case"formatMinimum":case"formatExclusiveMinimum":r="";var f=y.params.comparison+" "+y.params.limit;r+="\u5E94\u5F53\u662F "+f;break;case"if":r='\u5E94\u5F53\u5339\u914D\u6A21\u5F0F "'+y.params.failingKeyword+'" ';break;case"maximum":case"exclusiveMaximum":r="";var f=y.params.comparison+" "+y.params.limit;r+="\u5E94\u5F53\u4E3A "+f;break;case"maxItems":r="";var l=y.params.limit;r+="\u4E0D\u5E94\u591A\u4E8E "+l+" \u4E2A\u9879";break;case"maxLength":r="";var l=y.params.limit;r+="\u4E0D\u5E94\u591A\u4E8E "+l+" \u4E2A\u5B57\u7B26";break;case"maxProperties":r="";var l=y.params.limit;r+="\u4E0D\u5E94\u6709\u591A\u4E8E "+l+" \u4E2A\u5C5E\u6027";break;case"minimum":case"exclusiveMinimum":r="";var f=y.params.comparison+" "+y.params.limit;r+="\u5E94\u5F53\u4E3A "+f;break;case"minItems":r="";var l=y.params.limit;r+="\u4E0D\u5E94\u5C11\u4E8E "+l+" \u4E2A\u9879";break;case"minLength":r="";var l=y.params.limit;r+="\u4E0D\u5E94\u5C11\u4E8E "+l+" \u4E2A\u5B57\u7B26";break;case"minProperties":r="";var l=y.params.limit;r+="\u4E0D\u5E94\u6709\u5C11\u4E8E "+l+" \u4E2A\u5C5E\u6027";break;case"multipleOf":r="\u5E94\u5F53\u662F "+y.params.multipleOf+" \u7684\u6574\u6570\u500D";break;case"not":r='\u4E0D\u5E94\u5F53\u5339\u914D "not" schema';break;case"oneOf":r='\u53EA\u80FD\u5339\u914D\u4E00\u4E2A "oneOf" \u4E2D\u7684 schema';break;case"pattern":r='\u5E94\u5F53\u5339\u914D\u6A21\u5F0F "'+y.params.pattern+'"';break;case"patternRequired":r="\u5E94\u5F53\u6709\u5C5E\u6027\u5339\u914D\u6A21\u5F0F "+y.params.missingPattern;break;case"propertyNames":r="\u5C5E\u6027\u540D \u65E0\u6548";break;case"required":r="\u5E94\u5F53\u6709\u5FC5\u9700\u5C5E\u6027 "+y.params.missingProperty;break;case"type":r="\u5E94\u5F53\u662F "+y.params.type+" \u7C7B\u578B";break;case"unevaluatedItems":r="";var l=y.params.len;r+=" \u4E0D\u5141\u8BB8\u6709\u8D85\u8FC7 "+l+" \u4E2A\u5143\u7D20";break;case"unevaluatedProperties":r="\u4E0D\u5141\u8BB8\u5B58\u5728\u672A\u6C42\u503C\u7684\u5C5E\u6027";break;case"uniqueItems":r="\u4E0D\u5E94\u5F53\u542B\u6709\u91CD\u590D\u9879 (\u7B2C "+y.params.j+" \u9879\u4E0E\u7B2C "+y.params.i+" \u9879\u662F\u91CD\u590D\u7684)";break;default:r='\u5E94\u5F53\u901A\u8FC7 "'+y.keyword+' \u5173\u952E\u8BCD\u6821\u9A8C"'}y.message=r}}}),Xt=rt(Qt(),1),er="##INNER_THROW_FN##",tr="##INNER_TYPE_FN##",rr=Zt(),ar=new Xt.default({allErrors:!0}),ve=class{#e;constructor(...e){if(e.length!==1)throw new Error("\u53EA\u80FD\u4F20\u5165\u4E00\u4E2A\u5BF9\u8C61\u3002");if(typeof e[0]!="object")throw new TypeError("\u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61\u3002");this.#e=ar.compile(e[0])}[tr](e){return!!this.#e(e)}[er](e){return this.#e(e)?"":(rr(this.#e.errors),`JSON Schema \u6821\u9A8C\u9519\u8BEF\uFF1A
`+JSON.stringify(this.#e.errors,null,2))}};var Ae=class e{#e=[];#t=null;#s=null;get length(){return this.#e.length}get[Symbol.isConcatSpreadable](){return!0}get[Symbol.toStringTag](){return`List<${this.#t.name}>`}static#a=function(...t){return e.#a=J().add([[Function,ve]],function(s){this.#t=s}).add([[Function,ve],[Array,e.T(typeof t?.[0]=="function"?t[0]:class{})]],function(s,f){this.#t=s;for(let l of f)this.add(l)}).add([[Function,ve],Number],function(s,f){this.#t=s;let l;s===Number?l=0:s===String?l="":s===Boolean?l=!1:s===BigInt?l=BigInt(0):s===Symbol?l=Symbol():l=null;for(let y=0;y<f;y++)this.add(s?.["##STRUCT_CONSTURCTOR##"]?.()||l)}),e.#a.call(this,...t)};constructor(...t){return e.#a.apply(this,t),this.#o()}static T(...t){let s=new WeakMap;return e.T=J([[Function,ve]],function(f){let l=s.get(f);return!l&&s.set(f,l=new Proxy(e,{get:(y,r,v)=>r==="##INNER_TYPE##"?f:y[r]})),l}),e.T(...t)}#o(){return this.#s=new Proxy(this,{get:(t,s,f)=>{if(s==="@@INNER_TYPE@@")return this.#t;let l=null;return typeof s=="symbol"?l=this[s]:typeof s=="string"&&(/^\d+$/.test(s)?l=this.#e[s]:l=this[s]),typeof l=="function"?l.bind(this):l},set:(t,s,f,l)=>{if(typeof s=="string"&&/^\d+$/.test(s)){if(s>=this.#e.length)throw new Error(`\u7D22\u5F15 ${s} \u8D85\u51FA\u8303\u56F4\uFF0C\u5217\u8868\u957F\u5EA6\u4E3A ${this.#e.length}\u3002`);return J([this.#t],y=>{this.#e[s]=y}).call(this,f),!0}throw new Error(`\u65E0\u6CD5\u5728\u6B64\u5217\u8868\u4E0A\u8BBE\u7F6E\u5C5E\u6027 ${s}\u3002`)}})}#r(t){if(t<0)throw new Error(`\u7D22\u5F15 ${t} \u8D85\u51FA\u8303\u56F4\uFF0C\u7D22\u5F15\u5FC5\u987B\u5927\u4E8E\u6216\u7B49\u4E8E 0\u3002`);if(t>=this.#e.length)throw new Error(`\u7D22\u5F15 ${t} \u8D85\u51FA\u8303\u56F4\uFF0C\u5217\u8868\u957F\u5EA6\u4E3A ${this.#e.length}\u3002`)}[Symbol.iterator]=function*(){for(let t=0;t<this.#e.length;t++)yield this.#e[t]};add(...t){return this.add=J([[this.#t,null]],function(s){this.#e.push(s)}),this.add(...t)}addRange(...t){return e.prototype.addRange=J([[Array,e]],function(s){for(let f of s)this.add(f)}).any(function(...s){for(let f of s)this.add(f)}),this.addRange(...t)}asReadOnly(...t){let s=["add","addRange","insert","insertRange","remove","removeAt","removeAll","removeRange","clear","reverse","sort","asReadOnly"];return e.prototype.asReadOnly=J([],function(){return new Proxy(this,{get:(f,l,y)=>{if(s.includes(l))throw new Error(`\u65E0\u6CD5\u8BBF\u95EE\u53EA\u8BFB\u5217\u8868\u4E0A\u7684\u65B9\u6CD5 ${l}\u3002`);return this.#s[l]},set:(f,l,y,r)=>{throw new Error(`\u65E0\u6CD5\u5728\u53EA\u8BFB\u5217\u8868\u4E0A\u8BBE\u7F6E\u5C5E\u6027 ${l}\u3002`)}})}),this.asReadOnly(...t)}concat(...t){return e.prototype.concat=J([[Array,e]],function(s){let f=new e(this.#t);for(let l of this)f.add(l);for(let l of s)f.add(l);return f}),this.concat(...t)}clear(...t){return e.prototype.clear=J([],function(){this.#e=[]}),this.clear(...t)}clone(...t){return e.prototype.clone=J([],function(){return new e(this.#t,this)}),this.clone(...t)}contains(...t){return this.contains=J([this.#t],function(s){return this.#e.includes(s)}),this.contains(...t)}copyTo(...t){return e.prototype.copyTo=J().add([Array],function(s){this.#e.forEach((f,l)=>{s[l]=f})}).add([Array,Number],function(s,f){this.#e.forEach((l,y)=>{s[f+y]=l})}).add([Array,Number,Number],function(s,f,l){for(let y=0;y<l;y++)s[f+y]=this.#e[y]}),this.copyTo(...t)}exists(...t){return e.prototype.exists=J([Function],function(s){return this.#e.some(s)}),this.exists(...t)}forEach(...t){return e.prototype.forEach=J([Function],function(s){this.#e.forEach(s)}),this.forEach(...t)}find(...t){return e.prototype.find=J([Function],function(s){return this.#e.find(s)}),this.find(...t)}findIndex(...t){return e.prototype.findIndex=J([Function],function(s){return this.#e.findIndex(s)}),this.findIndex(...t)}findLast(...t){return e.prototype.findLast=J([Function],function(s){this.#e.reverse();let f=this.#e.find(s);return this.#e.reverse(),f}),this.findLast(...t)}findLastIndex(...t){return e.prototype.findLastIndex=J([Function],function(s){this.#e.reverse();let f=this.#e.findIndex(s);return this.#e.reverse(),f}),this.findLastIndex(...t)}getInnerType(...t){return e.prototype.getInnerType=J([],function(){return this.#t}),this.getInnerType(...t)}insert(...t){return this.insert=J([Number,[this.#t,null]],function(s,f){this.#r(s),this.#e.splice(s,0,f)}),this.insert(...t)}insertRange(...t){return e.prototype.insertRange=J([Number,[Array,e]],function(s,f){this.#r(s);for(let l of f)this.insert(s++,l)}).add([Number,"..."],function(s,...f){this.#r(s);for(let l of f)this.insert(s++,l)}),this.insertRange(...t)}indexOf(...t){return this.indexOf=J([this.#t],function(s){return this.#e.indexOf(s)}),this.indexOf(...t)}lastIndexOf(...t){return this.lastIndexOf=J([this.#t],function(s){return this.#e.lastIndexOf(s)}),this.lastIndexOf(...t)}remove(...t){return this.remove=J([this.#t],function(s){let f=this.#e.indexOf(s);return f!==-1?(this.#e.splice(f,1),!0):!1}),this.remove(...t)}removeAt(...t){return e.prototype.removeAt=J([Number],function(s){this.#r(s),this.#e.splice(s,1)}),this.removeAt(...t)}removeAll(...t){return e.prototype.removeAll=J([Function],function(s){let f=0;for(let l=this.#e.length-1;l>=0;l--)s(this.#e[l])&&(this.#e.splice(l,1),f++);return f}),this.removeAll(...t)}removeRange(...t){return e.prototype.removeRange=J([Number,Number],function(s,f){this.#r(s),this.#r(s+f-1),this.#e.splice(s,f)}),this.removeRange(...t)}reverse(...t){return e.prototype.reverse=J([],function(){this.#e.reverse()}).add([Number,Number],function(s,f){this.#r(s),this.#r(s+f-1);let l=this.#e.splice(s,f);l.reverse(),this.#e.splice(s,0,...l)}),this.reverse(...t)}slice(...t){return e.prototype.slice=J().add([Number,Number],function(s,f){return new e(this.#t,this.#e.slice(s,f))}),this.slice(...t)}sort(...t){return e.prototype.sort=J().add([],function(){this.#e.sort()}).add([Function],function(s){this.#e.sort(s)}),this.sort(...t)}toArray(...t){return e.prototype.toArray=J([],function(){return this.#e.slice()}),this.toArray(...t)}trueForAll(...t){return e.prototype.trueForAll=J([Function],function(s){return this.#e.every(s)}),this.trueForAll(...t)}toString(...t){return e.prototype.toString=J().any(function(...s){return this.#e.toString(...s)}),this.toString(...t)}};export{Ae as default};
//# sourceMappingURL=index.js.map
